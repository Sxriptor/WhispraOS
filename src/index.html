<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whispra</title>
    <base href="./">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline' blob: https://unpkg.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; media-src 'self' blob: data:; img-src 'self' data:">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Default Theme Colors */
            --bg: #000;
            --panel: #0a0a0a;
            --text: #f5f5f5;
            --muted: #c7c7c7;
            --border: #262626;
            --focus: #ffffff;
            --accent-blue: #3b82f6;
            --accent-blue-hover: #2563eb;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
        }

        /* Neo-Brutalism Theme Variables */
        [data-theme="neo-brutalism"] {
            --electric-blue: #00D9FF;
            --neon-red: #FF1744;
            --acid-green: #39FF14;
            --bright-yellow: #FFEA00;
            --pure-white: #FFFFFF;
            --true-black: #000000;
            
            --bg: var(--pure-white);
            --panel: var(--pure-white);
            --text: var(--true-black);
            --muted: var(--true-black);
            --border: var(--true-black);
            --focus: var(--electric-blue);
            
            --shadow-harsh: 0 5px 0 rgba(0, 0, 0, 0.15);
            --shadow-large: 0 8px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] body {
            font-family: 'Inter', 'Arial Black', 'Suisse Int\'l', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        /* Hacker Theme Variables */
        [data-theme="hacker"] {
            --hacker-green: #00ff00;
            --hacker-cyan: #00ffff;
            --hacker-dark-green: #003300;
            --hacker-bg: #000000;
            --hacker-panel: #0a0a0a;
            --hacker-border: #00ff00;
            --hacker-text: #00ff00;
            --hacker-muted: #00cc00;
            --hacker-accent: #00ffff;
            --hacker-error: #ff0000;
            --hacker-warning: #ffff00;
            
            --bg: var(--hacker-bg);
            --panel: var(--hacker-panel);
            --text: var(--hacker-text);
            --muted: var(--hacker-muted);
            --border: var(--hacker-border);
            --focus: var(--hacker-cyan);
            
            --glow-green: 0 0 10px rgba(0, 255, 0, 0.5), 0 0 20px rgba(0, 255, 0, 0.3);
            --glow-cyan: 0 0 10px rgba(0, 255, 255, 0.5), 0 0 20px rgba(0, 255, 255, 0.3);
            --glow-strong: 0 0 15px rgba(0, 255, 0, 0.8), 0 0 30px rgba(0, 255, 0, 0.5);
        }

        [data-theme="hacker"] body {
            font-family: 'Courier New', 'Monaco', 'Consolas', 'Fira Code', 'Lucida Console', monospace;
            font-weight: 400;
            letter-spacing: 0.05em;
            text-shadow: var(--glow-green);
            background: var(--hacker-bg);
            position: relative;
        }

        /* Scan line effect for hacker theme */
        [data-theme="hacker"] body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 0, 0.03) 2px,
                rgba(0, 255, 0, 0.03) 4px
            );
            pointer-events: none;
            z-index: 9999;
        }

        /* Lucide icon styling */
        svg.lucide {
            width: 1em;
            height: 1em;
            display: inline-block;
            vertical-align: middle;
        }

        [data-theme="neo-brutalism"] svg.lucide {
            stroke-width: 2.5px;
        }

        [data-theme="hacker"] svg.lucide {
            stroke-width: 1.5px;
            filter: drop-shadow(var(--glow-green));
        }

        /* Corporate Theme Variables */
        [data-theme="corporate"] {
            --corporate-white: #ffffff;
            --corporate-light-gray: #f8f9fa;
            --corporate-gray: #e9ecef;
            --corporate-border-gray: #dee2e6;
            --corporate-text: #212529;
            --corporate-text-light: #6c757d;
            --corporate-accent: #2563eb;
            --corporate-accent-hover: #1d4ed8;
            --corporate-accent-light: #eff6ff;
            --corporate-success: #10b981;
            --corporate-error: #ef4444;
            --corporate-warning: #f59e0b;
            
            --bg: var(--corporate-white);
            --panel: var(--corporate-light-gray);
            --text: var(--corporate-text);
            --muted: var(--corporate-text-light);
            --border: var(--corporate-border-gray);
            --focus: var(--corporate-accent);
            
            --shadow-subtle: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        [data-theme="corporate"] body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 400;
            letter-spacing: 0;
            background: var(--corporate-white);
            color: var(--corporate-text);
        }

        [data-theme="corporate"] svg.lucide {
            stroke-width: 1.5px;
            opacity: 0.85;
        }

        .icon-wrapper {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .trial-banner {
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.1), rgba(0, 102, 255, 0.15));
            border-bottom: 1px solid rgba(0, 122, 255, 0.3);
            padding: 0.5rem 1rem;
            display: none;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: #4d9fff;
        }

        .trial-banner.show {
            display: flex;
        }

        .trial-banner.warning {
            background: linear-gradient(135deg, rgba(255, 159, 10, 0.1), rgba(255, 149, 0, 0.15));
            border-bottom-color: rgba(255, 159, 10, 0.3);
            color: #ffb74d;
        }

        .trial-banner.expired {
            background: linear-gradient(135deg, rgba(255, 59, 48, 0.1), rgba(255, 45, 85, 0.15));
            border-bottom-color: rgba(255, 59, 48, 0.3);
            color: #ff6b6b;
        }

        .trial-banner-link {
            color: inherit;
            text-decoration: underline;
            cursor: pointer;
            font-weight: 600;
        }

        .trial-banner-link:hover {
            opacity: 0.8;
        }

        /* Neo-Brutalism Theme Styles */
        [data-theme="neo-brutalism"] .trial-banner {
            background: var(--bright-yellow);
            border-bottom: 3px solid var(--true-black);
            padding: 1rem 1.5rem;
            font-size: 1rem;
            font-weight: 900;
            color: var(--true-black);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .trial-banner.warning {
            background: var(--bright-yellow);
            border-bottom-color: var(--true-black);
            color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .trial-banner.expired {
            background: var(--neon-red);
            border-bottom-color: var(--true-black);
            color: var(--pure-white);
        }

        [data-theme="neo-brutalism"] .trial-banner-link {
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .trial-banner-link:hover {
            text-decoration: none;
            background: var(--true-black);
            color: var(--bright-yellow);
            padding: 0.25rem 0.5rem;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* Hacker Theme Styles */
        [data-theme="hacker"] .trial-banner {
            background: var(--hacker-dark-green);
            border-bottom: 1px solid var(--hacker-border);
            padding: 0.75rem 1rem;
            font-size: 0.85rem;
            color: var(--hacker-text);
            box-shadow: var(--glow-green);
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .trial-banner.warning {
            background: var(--hacker-dark-green);
            border-bottom-color: var(--hacker-warning);
            color: var(--hacker-warning);
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
        }

        [data-theme="hacker"] .trial-banner.expired {
            background: var(--hacker-dark-green);
            border-bottom-color: var(--hacker-error);
            color: var(--hacker-error);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        [data-theme="hacker"] .trial-banner-link {
            font-weight: 600;
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .trial-banner-link:hover {
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Theme Styles */
        [data-theme="corporate"] .trial-banner {
            background: var(--corporate-accent-light);
            border-bottom: 1px solid var(--corporate-border-gray);
            padding: 0.75rem 1rem;
            font-size: 0.85rem;
            color: var(--corporate-accent);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .trial-banner.warning {
            background: #fef3c7;
            border-bottom-color: var(--corporate-border-gray);
            color: var(--corporate-warning);
        }

        [data-theme="corporate"] .trial-banner.expired {
            background: #fee2e2;
            border-bottom-color: var(--corporate-border-gray);
            color: var(--corporate-error);
        }

        [data-theme="corporate"] .trial-banner-link {
            font-weight: 500;
            color: var(--corporate-accent);
        }

        [data-theme="corporate"] .trial-banner-link:hover {
            color: var(--corporate-accent-hover);
            text-decoration: underline;
        }

        /* Header */
        .header {
            background: var(--bg);
            padding: 0.5rem 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            -webkit-app-region: drag;
            user-select: none;
        }

        .header button,
        .header select,
        .header .profile-dropdown {
            -webkit-app-region: no-drag;
        }

        /* Window Controls */
        .window-controls {
            display: flex;
            gap: 0.5rem;
            -webkit-app-region: no-drag;
        }

        .window-control-button {
            background: transparent;
            border: none;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text);
            font-size: 16px;
            transition: all 0.2s ease;
            border-radius: 4px;
        }

        .window-control-button svg {
            stroke-width: 2.5px;
        }

        .window-control-button.close svg {
            stroke-width: 3px;
            width: 20px;
            height: 20px;
        }

        .window-control-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .window-control-button.close:hover {
            background: #e81123;
            color: white;
        }

        /* Neo-Brutalism Header Styles */
        [data-theme="neo-brutalism"] .header {
            background: var(--pure-white);
            padding: 0.75rem 1.5rem;
            border-bottom: 3px solid var(--true-black);
            gap: 1rem;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .window-control-button {
            border: 3px solid var(--true-black);
            border-radius: 0;
            width: 40px;
            height: 40px;
            font-weight: 900;
        }

        [data-theme="neo-brutalism"] .window-control-button svg {
            stroke-width: 3px;
        }

        [data-theme="neo-brutalism"] .window-control-button.close svg {
            stroke-width: 3.5px;
            width: 22px;
            height: 22px;
        }

        [data-theme="neo-brutalism"] .window-control-button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.15);
            width: 40px;
            height: 40px;
        }

        [data-theme="neo-brutalism"] .window-control-button.close:hover {
            background: var(--neon-red);
            color: var(--pure-white);
        }

        /* Hacker Header Styles */
        [data-theme="hacker"] .header {
            background: var(--hacker-panel);
            padding: 0.5rem 1rem;
            border-bottom: 1px solid var(--hacker-border);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .window-control-button {
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            width: 38px;
            height: 38px;
        }

        [data-theme="hacker"] .window-control-button svg {
            stroke-width: 2.5px;
            filter: drop-shadow(var(--glow-green));
        }

        [data-theme="hacker"] .window-control-button.close svg {
            stroke-width: 3px;
            width: 20px;
            height: 20px;
        }

        [data-theme="hacker"] .window-control-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .window-control-button:hover svg {
            filter: drop-shadow(var(--glow-cyan));
        }

        [data-theme="hacker"] .window-control-button.close:hover {
            background: var(--hacker-error);
            border-color: var(--hacker-error);
            color: var(--pure-white);
            text-shadow: none;
        }

        [data-theme="hacker"] .window-control-button.close:hover svg {
            filter: none;
        }

        /* Corporate Header Styles */
        [data-theme="corporate"] .header {
            background: var(--corporate-white);
            padding: 0.5rem 1.25rem;
            border-bottom: 1px solid var(--corporate-border-gray);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .window-control-button {
            border-radius: 4px;
            color: var(--corporate-text);
            width: 38px;
            height: 38px;
        }

        [data-theme="corporate"] .window-control-button svg {
            stroke-width: 2.5px;
        }

        [data-theme="corporate"] .window-control-button.close svg {
            stroke-width: 3px;
            width: 20px;
            height: 20px;
        }

        [data-theme="corporate"] .window-control-button:hover {
            background: var(--corporate-gray);
            color: var(--corporate-accent);
        }

        [data-theme="corporate"] .window-control-button.close:hover {
            background: var(--corporate-error);
            color: var(--corporate-white);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-right {
            display: flex;
            align-items: center;
        }

        /* Neo-brutalism header spacing */
        [data-theme="neo-brutalism"] .header-right {
            gap: 0.5rem;
        }

        .theme-toggle-button {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text);
            font-size: 16px;
            transition: all 0.2s ease;
            margin-right: 0.5rem;
        }

        .theme-toggle-button:hover {
            background: #111;
            border-color: var(--focus);
        }

        /* WebSocket Status Indicator */
        .websocket-status-indicator {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.5rem;
            cursor: pointer;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: transparent;
            transition: all 0.2s ease;
        }

        .websocket-status-indicator:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--focus);
        }

        .ws-status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #9E9E9E;
            transition: all 0.3s ease;
            box-shadow: 0 0 0 0 rgba(158, 158, 158, 0.4);
        }

        .websocket-status-indicator.connected .ws-status-dot {
            background: #4CAF50;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.6);
            animation: pulse-green 2s infinite;
        }

        .websocket-status-indicator.connecting .ws-status-dot {
            background: #FF9800;
            animation: pulse-orange 1s infinite;
        }

        .websocket-status-indicator.reconnecting .ws-status-dot {
            background: #FF9800;
            animation: pulse-orange 0.5s infinite;
        }

        .websocket-status-indicator.disconnected .ws-status-dot {
            background: #9E9E9E;
        }

        .websocket-status-indicator.failed .ws-status-dot {
            background: #F44336;
            animation: pulse-red 1s infinite;
        }

        @keyframes pulse-green {
            0%, 100% {
                box-shadow: 0 0 8px rgba(76, 175, 80, 0.6);
            }
            50% {
                box-shadow: 0 0 16px rgba(76, 175, 80, 0.8);
            }
        }

        @keyframes pulse-orange {
            0%, 100% {
                box-shadow: 0 0 8px rgba(255, 152, 0, 0.6);
            }
            50% {
                box-shadow: 0 0 16px rgba(255, 152, 0, 0.8);
            }
        }

        @keyframes pulse-red {
            0%, 100% {
                box-shadow: 0 0 8px rgba(244, 67, 54, 0.6);
            }
            50% {
                box-shadow: 0 0 16px rgba(244, 67, 54, 0.8);
            }
        }

        .profile-dropdown {
            position: relative;
            display: inline-block;
        }

        .profile-button {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text);
            font-size: 16px;
            transition: all 0.2s ease;
        }

        .profile-button:hover {
            background: #111;
            border-color: var(--focus);
        }

        /* Neo-Brutalism Profile Button */
        [data-theme="neo-brutalism"] .profile-button {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            width: 40px;
            height: 40px;
            font-size: 18px;
            font-weight: 900;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .profile-button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
            width: 40px;
            height: 40px;
        }

        /* Hacker Profile Button */
        [data-theme="hacker"] .profile-button {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .profile-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Profile Button */
        [data-theme="corporate"] .profile-button {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 4px;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.15s ease;
            color: var(--corporate-text);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .profile-button:hover {
            background: var(--corporate-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        /* Theme Toggle Button Styles */
        /* Neo-Brutalism Theme Toggle */
        [data-theme="neo-brutalism"] .theme-toggle-button {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            width: 40px;
            height: 40px;
            font-size: 18px;
            font-weight: 900;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
            margin-right: 0;
        }

        [data-theme="neo-brutalism"] .theme-toggle-button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
            width: 40px;
            height: 40px;
        }

        /* Hacker Theme Toggle */
        [data-theme="hacker"] .theme-toggle-button {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            margin-right: 0.5rem;
        }

        [data-theme="hacker"] .theme-toggle-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Theme Toggle */
        [data-theme="corporate"] .theme-toggle-button {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 4px;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.15s ease;
            color: var(--corporate-text);
            box-shadow: var(--shadow-subtle);
            margin-right: 0.5rem;
        }

        [data-theme="corporate"] .theme-toggle-button:hover {
            background: var(--corporate-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        .header-icon-button {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text);
            font-size: 16px;
            transition: all 0.2s ease;
            margin-right: 8px;
        }

        .header-icon-button:hover {
            background: #111;
            border-color: var(--focus);
        }

        /* Neo-Brutalism Header Icon Button */
        [data-theme="neo-brutalism"] .header-icon-button {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            width: 40px;
            height: 40px;
            font-size: 18px;
            font-weight: 900;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .header-icon-button:hover {
            background: var(--acid-green);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
            width: 40px;
            height: 40px;
        }

        /* Hacker Header Icon Button */
        [data-theme="hacker"] .header-icon-button {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .header-icon-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Header Icon Button */
        [data-theme="corporate"] .header-icon-button {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 4px;
            width: 36px;
            height: 36px;
            font-size: 16px;
            transition: all 0.15s ease;
            color: var(--corporate-text);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .header-icon-button:hover {
            background: var(--corporate-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        .language-toggle {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 0.25rem 0.5rem;
            color: var(--text);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-right: 8px;
            min-width: 60px;
        }

        .language-toggle:hover {
            background: #111;
            border-color: var(--focus);
        }

        .language-toggle:focus {
            outline: none;
            border-color: var(--focus);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        .language-toggle option {
            background: var(--bg);
            color: var(--text);
            padding: 8px;
        }

        /* Neo-Brutalism Language Toggle */
        [data-theme="neo-brutalism"] .language-toggle {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            padding: 0.5rem 0.75rem;
            font-size: 0.9rem;
            font-weight: 900;
            min-width: 80px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .language-toggle:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .language-toggle:focus {
            border-color: var(--electric-blue);
            box-shadow: 0 0 0 4px var(--electric-blue), var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .language-toggle option {
            background: var(--pure-white);
            color: var(--true-black);
            padding: 12px;
            font-weight: 700;
        }

        /* Hacker Language Toggle */
        [data-theme="hacker"] .language-toggle {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            padding: 0.25rem 0.5rem;
            font-size: 0.85rem;
            min-width: 60px;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .language-toggle:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .language-toggle:focus {
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .language-toggle option {
            background: var(--hacker-bg);
            color: var(--hacker-text);
            padding: 8px;
        }

        /* Corporate Language Toggle */
        [data-theme="corporate"] .language-toggle {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            font-size: 0.85rem;
            min-width: 60px;
            color: var(--corporate-text);
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .language-toggle:hover {
            background: var(--corporate-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .language-toggle:focus {
            border-color: var(--corporate-accent);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        [data-theme="corporate"] .language-toggle option {
            background: var(--corporate-white);
            color: var(--corporate-text);
            padding: 8px;
        }

        /* Dropdown */
        .profile-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            min-width: 160px;
            z-index: 1000;
            margin-top: 4px;
        }

        .profile-dropdown-content.show {
            display: block;
        }

        .profile-dropdown-content button {
            width: 100%;
            padding: 0.75rem 1rem;
            background: transparent;
            border: none;
            color: var(--text);
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.2s ease;
        }

        .profile-dropdown-content button:hover {
            background: #111;
        }

        .profile-dropdown-content button:first-child {
            border-radius: 8px 8px 0 0;
        }

        .profile-dropdown-content button:last-child {
            border-radius: 0 0 8px 8px;
        }

        .profile-dropdown-content .divider {
            height: 1px;
            background: var(--border);
            margin: 0.25rem 0;
        }

        .profile-dropdown-language {
            padding: 0.75rem 1rem;
        }

        .profile-dropdown-language label {
            display: block;
            font-size: 0.75rem;
            color: var(--text);
            opacity: 0.7;
            margin-bottom: 0.25rem;
            padding: 0 1rem;
        }

        .profile-language-select {
            width: 100%;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .profile-language-select:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--focus);
        }

        .profile-language-select:focus {
            outline: none;
            border-color: var(--focus);
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        .profile-language-select option {
            background: var(--bg);
            color: var(--text);
            padding: 8px;
        }

        /* Neo-Brutalism Dropdown */
        [data-theme="neo-brutalism"] .profile-dropdown-content {
            top: calc(100% + 8px);
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            box-shadow: var(--shadow-large);
            min-width: 180px;
            margin-top: 0;
        }

        [data-theme="neo-brutalism"] .profile-dropdown-content button {
            padding: 1rem 1.25rem;
            background: var(--pure-white);
            border-bottom: 3px solid var(--true-black);
            color: var(--true-black);
            gap: 0.75rem;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 900;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .profile-dropdown-content button:hover {
            background: var(--neon-red);
            color: var(--pure-white);
            transform: translateX(4px);
        }

        [data-theme="neo-brutalism"] .profile-dropdown-content button:first-child {
            border-radius: 0;
        }

        [data-theme="neo-brutalism"] .profile-dropdown-content button:last-child {
            border-radius: 0;
            border-bottom: none;
        }

        [data-theme="neo-brutalism"] .profile-dropdown-content .divider {
            height: 3px;
            background: var(--true-black);
            margin: 0;
        }

        /* Hacker Dropdown */
        [data-theme="hacker"] .profile-dropdown-content {
            top: calc(100% + 4px);
            background: var(--hacker-bg);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            box-shadow: var(--glow-green);
            min-width: 160px;
            margin-top: 0;
        }

        [data-theme="hacker"] .profile-dropdown-content button {
            padding: 0.75rem 1rem;
            background: var(--hacker-bg);
            border-bottom: 1px solid var(--hacker-border);
            color: var(--hacker-text);
            gap: 0.5rem;
            transition: all 0.2s ease;
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .profile-dropdown-content button:hover {
            background: var(--hacker-dark-green);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.3);
        }

        [data-theme="hacker"] .profile-dropdown-content button:first-child {
            border-radius: 0;
        }

        [data-theme="hacker"] .profile-dropdown-content button:last-child {
            border-radius: 0;
            border-bottom: none;
        }

        [data-theme="hacker"] .profile-dropdown-content .divider {
            height: 1px;
            background: var(--hacker-border);
            margin: 0.25rem 0;
            box-shadow: var(--glow-green);
        }

        /* Corporate Dropdown */
        [data-theme="corporate"] .profile-dropdown-content {
            top: calc(100% + 4px);
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 6px;
            box-shadow: var(--shadow-md);
            min-width: 160px;
            margin-top: 0;
        }

        [data-theme="corporate"] .profile-dropdown-content button {
            padding: 0.75rem 1rem;
            background: var(--corporate-white);
            border-bottom: 1px solid var(--corporate-gray);
            color: var(--corporate-text);
            gap: 0.5rem;
            transition: all 0.15s ease;
        }

        [data-theme="corporate"] .profile-dropdown-content button:hover {
            background: var(--corporate-light-gray);
            color: var(--corporate-accent);
        }

        [data-theme="corporate"] .profile-dropdown-content button:first-child {
            border-radius: 6px 6px 0 0;
        }

        [data-theme="corporate"] .profile-dropdown-content button:last-child {
            border-radius: 0 0 6px 6px;
            border-bottom: none;
        }

        [data-theme="corporate"] .profile-dropdown-content .divider {
            height: 1px;
            background: var(--corporate-border-gray);
            margin: 0.25rem 0;
        }

        /* Help Dropdown (in sidebar) */
        .help-dropdown {
            position: relative;
            display: block;
            width: 100%;
        }

        .help-dropdown-content {
            display: none;
            position: absolute;
            left: 0;
            bottom: 100%;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            min-width: 200px;
            z-index: 1000;
            margin-bottom: 4px;
        }

        .help-dropdown-content.show {
            display: block;
        }

        .help-dropdown-content button {
            width: 100%;
            padding: 0.75rem 1rem;
            background: transparent;
            border: none;
            color: var(--text);
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.2s ease;
        }

        .help-dropdown-content button:hover {
            background: #111;
        }

        .help-dropdown-content button:first-child {
            border-radius: 8px 8px 0 0;
        }

        .help-dropdown-content button:last-child {
            border-radius: 0 0 8px 8px;
        }

        .help-dropdown-content .divider {
            height: 1px;
            background: var(--border);
            margin: 0.25rem 0;
        }

        /* Neo-Brutalism Help Dropdown */
        [data-theme="neo-brutalism"] .help-dropdown-content {
            bottom: calc(100% + 8px);
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            box-shadow: var(--shadow-large);
            min-width: 220px;
            margin-bottom: 0;
        }

        [data-theme="neo-brutalism"] .help-dropdown-content button {
            padding: 1rem 1.25rem;
            background: var(--pure-white);
            border-bottom: 3px solid var(--true-black);
            color: var(--true-black);
            gap: 0.75rem;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 900;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .help-dropdown-content button:hover {
            background: var(--electric-blue);
            color: var(--true-black);
            transform: translateX(4px);
        }

        [data-theme="neo-brutalism"] .help-dropdown-content button:first-child {
            border-radius: 0;
        }

        [data-theme="neo-brutalism"] .help-dropdown-content button:last-child {
            border-radius: 0;
            border-bottom: none;
        }

        [data-theme="neo-brutalism"] .help-dropdown-content .divider {
            height: 3px;
            background: var(--true-black);
            margin: 0;
        }

        /* Hacker Help Dropdown */
        [data-theme="hacker"] .help-dropdown-content {
            bottom: calc(100% + 4px);
            background: var(--hacker-bg);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            box-shadow: var(--glow-green);
            min-width: 200px;
            margin-bottom: 0;
        }

        [data-theme="hacker"] .help-dropdown-content button {
            padding: 0.75rem 1rem;
            background: var(--hacker-bg);
            border-bottom: 1px solid var(--hacker-border);
            color: var(--hacker-text);
            gap: 0.5rem;
            transition: all 0.2s ease;
            text-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .help-dropdown-content button:hover {
            background: var(--hacker-dark-green);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.3);
        }

        [data-theme="hacker"] .help-dropdown-content button:first-child {
            border-radius: 0;
        }

        [data-theme="hacker"] .help-dropdown-content button:last-child {
            border-radius: 0;
            border-bottom: none;
        }

        [data-theme="hacker"] .help-dropdown-content .divider {
            height: 1px;
            background: var(--hacker-border);
            margin: 0.25rem 0;
            box-shadow: var(--glow-green);
        }

        /* Corporate Help Dropdown */
        [data-theme="corporate"] .help-dropdown-content {
            bottom: calc(100% + 4px);
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 6px;
            box-shadow: var(--shadow-md);
            min-width: 200px;
            margin-bottom: 0;
        }

        [data-theme="corporate"] .help-dropdown-content button {
            padding: 0.75rem 1rem;
            background: var(--corporate-white);
            border-bottom: 1px solid var(--corporate-gray);
            color: var(--corporate-text);
            gap: 0.5rem;
            transition: all 0.15s ease;
        }

        [data-theme="corporate"] .help-dropdown-content button:hover {
            background: var(--corporate-light-gray);
            color: var(--corporate-accent);
        }

        [data-theme="corporate"] .help-dropdown-content button:first-child {
            border-radius: 6px 6px 0 0;
        }

        [data-theme="corporate"] .help-dropdown-content button:last-child {
            border-radius: 0 0 6px 6px;
            border-bottom: none;
        }

        [data-theme="corporate"] .help-dropdown-content .divider {
            height: 1px;
            background: var(--corporate-border-gray);
            margin: 0.25rem 0;
        }

        .header-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .header-logo {
            width: 24px;
            height: 24px;
            border-radius: 4px;
        }

        .header h1 {
            color: var(--text);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .sidebar-toggle {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            cursor: pointer;
        }

        .sidebar-toggle:hover {
            background: #111;
        }

        /* Neo-Brutalism Header Brand */
        [data-theme="neo-brutalism"] .header-brand {
            gap: 1rem;
        }

        [data-theme="neo-brutalism"] .header-logo {
            width: 32px;
            height: 32px;
            border: 3px solid var(--true-black);
            border-radius: 0;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .header h1 {
            color: var(--true-black);
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: -0.03em;
            text-transform: uppercase;
        }

        [data-theme="neo-brutalism"] .sidebar-toggle {
            background: var(--pure-white);
            color: var(--true-black);
            border: 3px solid var(--true-black);
            padding: 0.75rem 1rem;
            border-radius: 0;
            font-weight: 900;
            font-size: 1.1rem;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .sidebar-toggle:hover {
            background: var(--acid-green);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        /* Hacker Header Brand */
        [data-theme="hacker"] .header-brand {
            gap: 0.75rem;
        }

        [data-theme="hacker"] .header-logo {
            width: 24px;
            height: 24px;
            border-radius: 0;
            border: 1px solid var(--hacker-border);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .header h1 {
            color: var(--hacker-text);
            font-size: 1.5rem;
            font-weight: 400;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .sidebar-toggle {
            background: var(--hacker-panel);
            color: var(--hacker-text);
            border: 1px solid var(--hacker-border);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .sidebar-toggle:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Header Brand */
        [data-theme="corporate"] .header-brand {
            gap: 0.75rem;
        }

        [data-theme="corporate"] .header-logo {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] .header h1 {
            color: var(--corporate-text);
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: -0.01em;
        }

        [data-theme="corporate"] .sidebar-toggle {
            background: var(--corporate-white);
            color: var(--corporate-text);
            border: 1px solid var(--corporate-border-gray);
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .sidebar-toggle:hover {
            background: var(--corporate-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        /* Content Container */
        .content-container {
            flex: 1;
            display: flex;
            min-height: 0;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--panel);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            transition: width 0.3s ease, filter 0.3s ease;
            position: relative;
            z-index: 10000;
        }

        /* Blur and darken sidebar when settings modal is open */
        body.settings-modal-open .sidebar {
            filter: blur(4px) brightness(0.5) !important;
            z-index: 999 !important;
        }

        .sidebar.collapsed {
            width: 64px;
        }

        .sidebar .sidebar-header {
            padding: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        .sidebar .sidebar-header .sidebar-toggle {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            width: 100%;
            color: var(--text);
            background: transparent;
            border: none;
            text-align: left;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .sidebar .sidebar-header .sidebar-toggle:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar .sidebar-header .sidebar-toggle .icon {
            width: 20px;
            height: 20px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .sidebar .sidebar-header .sidebar-toggle .icon svg {
            width: 20px;
            height: 20px;
        }

        .sidebar.collapsed .sidebar-header .sidebar-toggle {
            justify-content: center;
            padding: 0.75rem 0.5rem;
        }

        .sidebar.collapsed .sidebar-header .sidebar-toggle .label {
            display: none;
        }

        .sidebar .brand {
            padding: 1rem;
            font-weight: 600;
            color: var(--muted);
            border-bottom: 1px solid var(--border);
            margin-bottom: 0.5rem;
        }

        .sidebar .nav {
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            flex: 1;
        }

        .sidebar .nav button {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            width: 100%;
            color: var(--text);
            background: transparent;
            border: none;
            text-align: left;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            position: relative;
        }

        .sidebar .nav button:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(2px);
        }

        .sidebar .nav button.active {
            background: rgba(255, 255, 255, 0.1);
            color: var(--focus);
            border-left: 3px solid var(--focus);
        }

        .sidebar .nav button.active:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .sidebar .nav .icon {
            width: 20px;
            height: 20px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .sidebar .nav .icon svg {
            width: 20px;
            height: 20px;
        }

        .sidebar.collapsed .label {
            display: none;
        }

        .sidebar.collapsed .nav button {
            justify-content: center;
            padding: 0.75rem 0.5rem;
        }

        .sidebar.collapsed .nav button:hover {
            transform: none;
        }

        .sidebar.collapsed .brand {
            text-align: center;
            font-size: 0.8rem;
        }

        .interactive-character-card {
            margin: 0.75rem;
            padding: 0.75rem;
            border-radius: 14px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: none;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 220px;
            max-width: 100%;
            align-self: center;
            flex-shrink: 0;
            overflow: visible;
        }

        .sidebar.collapsed .interactive-character-card {
            display: none;
        }

        .interactive-character-root {
            position: relative;
            width: 220px;
            height: 220px;
            border-radius: 12px;
            overflow: visible;
            background: transparent;
            border: none;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: visible;
        }

        .character-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
        }

        .interactive-character-canvas {
            width: 220px !important;
            height: 220px !important;
            max-width: 100%;
            max-height: 100%;
            display: block;
            cursor: grab;
            background: transparent;
            flex-shrink: 0;
            object-fit: contain;
        }

        .interactive-character-canvas:active {
            cursor: grabbing;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(100px, 150px) rotate(30deg);
            }
        }

        /* Tooltip for collapsed sidebar */
        .sidebar.collapsed .nav button:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--panel);
            color: var(--text);
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            margin-left: 0.5rem;
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            opacity: 1;
            pointer-events: none;
        }

        /* Neo-Brutalism Sidebar */
        [data-theme="neo-brutalism"] .sidebar {
            background: var(--pure-white);
            border-right: 3px solid var(--true-black);
            transition: width 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
            position: relative;
            z-index: 10000;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed {
            width: 70px;
        }

        [data-theme="neo-brutalism"] .sidebar .brand {
            padding: 0.75rem 1rem;
            font-weight: 900;
            font-size: 1rem;
            color: var(--true-black);
            border-bottom: 2px solid var(--true-black);
            margin-bottom: 0;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        [data-theme="neo-brutalism"] .sidebar .nav {
            padding: 0.5rem;
            gap: 0.35rem;
        }

        [data-theme="neo-brutalism"] .sidebar .nav button {
            gap: 0.75rem;
            padding: 0.6rem 0.85rem;
            color: var(--true-black);
            background: var(--pure-white);
            border: 2px solid var(--true-black);
            border-radius: 0;
            font-weight: 900;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar .nav button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 5px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar .nav button.active {
            background: var(--true-black);
            color: var(--bright-yellow);
            border-color: var(--true-black);
            border-left: 2px solid var(--true-black);
        }

        [data-theme="neo-brutalism"] .sidebar .nav button.active:hover {
            background: var(--neon-red);
            color: var(--pure-white);
            transform: translate(-2px, -2px);
            box-shadow: 0 5px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar .nav .icon {
            width: 18px;
            height: 18px;
        }

        [data-theme="neo-brutalism"] .sidebar .nav .icon svg {
            width: 18px;
            height: 18px;
            stroke-width: 2.5px;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .nav button {
            padding: 0.6rem 0.4rem;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .nav button:hover {
            transform: translate(-2px, -2px);
        }

        /* Neo-Brutalism tooltips - ensure they appear above translation cards */
        [data-theme="neo-brutalism"] .sidebar.collapsed .nav button:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--pure-white);
            color: var(--true-black);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-size: 0.8rem;
            font-weight: 900;
            white-space: nowrap;
            margin-left: 0.5rem;
            border: 2px solid var(--true-black);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
            z-index: 10000;
            opacity: 1;
            pointer-events: none;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .sidebar-settings-button:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--pure-white);
            color: var(--true-black);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-size: 0.8rem;
            font-weight: 900;
            white-space: nowrap;
            margin-left: 0.5rem;
            border: 2px solid var(--true-black);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
            z-index: 10000;
            opacity: 1;
            pointer-events: none;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .sidebar .sidebar-header {
            padding: 0.5rem;
            border-bottom: 2px solid var(--true-black);
        }

        [data-theme="neo-brutalism"] .sidebar .sidebar-header .sidebar-toggle {
            gap: 0.75rem;
            padding: 0.6rem 0.85rem;
            color: var(--true-black);
            background: var(--pure-white);
            border: 2px solid var(--true-black);
            border-radius: 0;
            font-weight: 900;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar .sidebar-header .sidebar-toggle:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 5px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .sidebar-header .sidebar-toggle {
            padding: 0.6rem 0.4rem;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .brand {
            font-size: 0.8rem;
            padding: 0.75rem 0.4rem;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .nav button:hover::before {
            background: var(--bright-yellow);
            color: var(--true-black);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-weight: 900;
            border: 2px solid var(--true-black);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
            left: calc(100% + 6px);
            margin-left: 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Hacker Sidebar */
        [data-theme="hacker"] .sidebar {
            background: var(--hacker-panel);
            border-right: 1px solid var(--hacker-border);
            transition: width 0.3s ease;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .sidebar.collapsed {
            width: 64px;
        }

        [data-theme="hacker"] .sidebar .brand {
            padding: 1rem;
            font-weight: 400;
            color: var(--hacker-text);
            border-bottom: 1px solid var(--hacker-border);
            margin-bottom: 0.5rem;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .sidebar .nav {
            padding: 0.5rem;
            gap: 0.25rem;
        }

        [data-theme="hacker"] .sidebar .nav button {
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--hacker-text);
            background: transparent;
            border: none;
            border-radius: 0;
            font-weight: 400;
            transition: all 0.2s ease;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .sidebar .nav button:hover {
            background: var(--hacker-dark-green);
            border-left: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.2);
        }

        [data-theme="hacker"] .sidebar .nav button.active {
            background: var(--hacker-dark-green);
            color: var(--hacker-cyan);
            border-left: 3px solid var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 15px rgba(0, 255, 255, 0.3);
        }

        [data-theme="hacker"] .sidebar .nav button.active:hover {
            background: var(--hacker-dark-green);
            box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.4);
        }

        [data-theme="hacker"] .sidebar .nav .icon {
            width: 20px;
            height: 20px;
        }

        [data-theme="hacker"] .sidebar .nav .icon svg {
            width: 20px;
            height: 20px;
            filter: drop-shadow(var(--glow-green));
        }

        [data-theme="hacker"] .sidebar.collapsed .nav button {
            padding: 0.75rem 0.5rem;
        }

        [data-theme="hacker"] .sidebar.collapsed .nav button:hover {
            transform: none;
        }

        [data-theme="hacker"] .sidebar .sidebar-header {
            padding: 0.5rem;
            border-bottom: 1px solid var(--hacker-border);
        }

        [data-theme="hacker"] .sidebar .sidebar-header .sidebar-toggle {
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
        }

        [data-theme="hacker"] .sidebar .sidebar-header .sidebar-toggle:hover {
            background: var(--hacker-dark-green);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.3);
        }

        [data-theme="hacker"] .sidebar.collapsed .brand {
            font-size: 0.8rem;
        }

        [data-theme="hacker"] .sidebar.collapsed .nav button:hover::before {
            background: var(--hacker-bg);
            color: var(--hacker-cyan);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            border: 1px solid var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            left: calc(100% + 4px);
            margin-left: 0;
            text-shadow: var(--glow-cyan);
            font-family: 'Courier New', monospace;
        }

        /* Corporate Sidebar */
        [data-theme="corporate"] .sidebar {
            background: var(--corporate-white);
            border-right: 1px solid var(--corporate-border-gray);
            transition: width 0.3s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .sidebar.collapsed {
            width: 64px;
        }

        [data-theme="corporate"] .sidebar .brand {
            padding: 1rem;
            font-weight: 600;
            color: var(--corporate-text-light);
            border-bottom: 1px solid var(--corporate-border-gray);
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            letter-spacing: 0.025em;
        }

        [data-theme="corporate"] .sidebar .nav {
            padding: 0.5rem;
            gap: 0.25rem;
        }

        [data-theme="corporate"] .sidebar .nav button {
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--corporate-text);
            background: transparent;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.15s ease;
            font-size: 0.875rem;
        }

        [data-theme="corporate"] .sidebar .nav button:hover {
            background: var(--corporate-light-gray);
            color: var(--corporate-accent);
        }

        [data-theme="corporate"] .sidebar .nav button.active {
            background: var(--corporate-accent-light);
            color: var(--corporate-accent);
            border-left: 3px solid var(--corporate-accent);
            font-weight: 600;
        }

        [data-theme="corporate"] .sidebar .nav button.active:hover {
            background: var(--corporate-accent-light);
        }

        [data-theme="corporate"] .sidebar .nav .icon {
            width: 20px;
            height: 20px;
        }

        [data-theme="corporate"] .sidebar .nav .icon svg {
            width: 20px;
            height: 20px;
            opacity: 0.75;
        }

        [data-theme="corporate"] .sidebar.collapsed .nav button {
            padding: 0.75rem 0.5rem;
        }

        [data-theme="corporate"] .sidebar.collapsed .nav button:hover {
            transform: none;
        }

        [data-theme="corporate"] .sidebar .sidebar-header {
            padding: 0.5rem;
            border-bottom: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] .sidebar .sidebar-header .sidebar-toggle {
            color: var(--corporate-text);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 6px;
        }

        [data-theme="corporate"] .sidebar .sidebar-header .sidebar-toggle:hover {
            background: var(--corporate-light-gray);
            color: var(--corporate-accent);
            border-color: var(--corporate-accent);
        }

        [data-theme="corporate"] .sidebar.collapsed .brand {
            font-size: 0.8rem;
        }

        [data-theme="corporate"] .sidebar.collapsed .nav button:hover::before {
            background: var(--corporate-white);
            color: var(--corporate-text);
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            border: 1px solid var(--corporate-border-gray);
            box-shadow: var(--shadow-md);
            left: calc(100% + 8px);
            margin-left: 0;
            font-size: 0.875rem;
        }

        /* Sidebar Footer */
        .sidebar-footer {
            margin-top: auto;
            padding: 0.5rem;
            border-top: 1px solid var(--border);
        }

        .sidebar-settings-button {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            width: 100%;
            color: var(--text);
            background: transparent;
            border: none;
            text-align: left;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .sidebar-settings-button:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(2px);
        }

        .sidebar-settings-button .icon {
            width: 20px;
            height: 20px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .sidebar-settings-button .icon svg {
            width: 20px;
            height: 20px;
        }

        .sidebar.collapsed .sidebar-settings-button .label {
            display: none;
        }

        .sidebar.collapsed .sidebar-settings-button {
            justify-content: center;
            padding: 0.75rem 0.5rem;
        }

        .sidebar.collapsed .sidebar-settings-button:hover {
            transform: none;
        }

        /* Tooltips for collapsed sidebar */
        .sidebar.collapsed .sidebar-settings-button:hover::before {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--panel);
            color: var(--text);
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            margin-left: 0.75rem;
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            opacity: 1;
            pointer-events: none;
        }

        /* Neo-Brutalism Sidebar Footer */
        [data-theme="neo-brutalism"] .sidebar-footer {
            padding: 0.5rem;
            border-top: 2px solid var(--true-black);
        }

        [data-theme="neo-brutalism"] .sidebar-settings-button {
            gap: 0.75rem;
            padding: 0.6rem 0.85rem;
            color: var(--true-black);
            background: var(--pure-white);
            border: 2px solid var(--true-black);
            border-radius: 0;
            font-weight: 900;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar-settings-button:hover {
            background: var(--acid-green);
            transform: translate(-2px, -2px);
            box-shadow: 0 5px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .sidebar-settings-button .icon {
            width: 18px;
            height: 18px;
        }

        [data-theme="neo-brutalism"] .sidebar-settings-button .icon svg {
            width: 18px;
            height: 18px;
            stroke-width: 2.5px;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .sidebar-settings-button {
            padding: 0.6rem 0.4rem;
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .sidebar-settings-button:hover {
            transform: translate(-2px, -2px);
        }

        [data-theme="neo-brutalism"] .sidebar.collapsed .sidebar-settings-button:hover::before {
            background: var(--bright-yellow);
            color: var(--true-black);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-weight: 900;
            border: 2px solid var(--true-black);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
            left: calc(100% + 6px);
            margin-left: 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Neo-Brutalism Interactive Character Card - keep default sizing */
        [data-theme="neo-brutalism"] .interactive-character-card {
            border: 2px solid var(--true-black);
            border-radius: 0;
            background: var(--pure-white);
            box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
        }

        /* Hacker Sidebar Footer */
        [data-theme="hacker"] .sidebar-footer {
            padding: 0.5rem;
            border-top: 1px solid var(--hacker-border);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .sidebar-settings-button {
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--hacker-text);
            background: transparent;
            border: none;
            border-radius: 0;
            font-weight: 400;
            transition: all 0.2s ease;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .sidebar-settings-button:hover {
            background: var(--hacker-dark-green);
            border-left: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.2);
            transform: translateX(2px);
        }

        [data-theme="hacker"] .sidebar-settings-button .icon {
            width: 20px;
            height: 20px;
        }

        [data-theme="hacker"] .sidebar-settings-button .icon svg {
            width: 20px;
            height: 20px;
            filter: drop-shadow(var(--glow-green));
        }

        [data-theme="hacker"] .sidebar.collapsed .sidebar-settings-button {
            padding: 0.75rem 0.5rem;
        }

        [data-theme="hacker"] .sidebar.collapsed .sidebar-settings-button:hover {
            transform: none;
        }

        [data-theme="hacker"] .sidebar.collapsed .sidebar-settings-button:hover::before {
            background: var(--hacker-bg);
            color: var(--hacker-cyan);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            border: 1px solid var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            left: calc(100% + 4px);
            margin-left: 0;
            text-shadow: var(--glow-cyan);
            font-family: 'Courier New', monospace;
        }

        /* Corporate Sidebar Footer */
        [data-theme="corporate"] .sidebar-footer {
            padding: 0.5rem;
            border-top: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] .sidebar-settings-button {
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--corporate-text);
            background: transparent;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.15s ease;
            font-size: 0.875rem;
        }

        [data-theme="corporate"] .sidebar-settings-button:hover {
            background: var(--corporate-light-gray);
            color: var(--corporate-accent);
            transform: translateX(2px);
        }

        [data-theme="corporate"] .sidebar-settings-button .icon {
            width: 20px;
            height: 20px;
        }

        [data-theme="corporate"] .sidebar-settings-button .icon svg {
            width: 20px;
            height: 20px;
            opacity: 0.75;
        }

        [data-theme="corporate"] .sidebar.collapsed .sidebar-settings-button {
            padding: 0.75rem 0.5rem;
        }

        [data-theme="corporate"] .sidebar.collapsed .sidebar-settings-button:hover {
            transform: none;
        }

        [data-theme="corporate"] .sidebar.collapsed .sidebar-settings-button:hover::before {
            background: var(--corporate-white);
            color: var(--corporate-text);
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            border: 1px solid var(--corporate-border-gray);
            box-shadow: var(--shadow-md);
            left: calc(100% + 8px);
            margin-left: 0;
            font-size: 0.875rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1.25rem 1.5rem;
            overflow-y: auto;
        }

        /* Neo-Brutalism Main Content */
        [data-theme="neo-brutalism"] .main-content {
            padding: 2rem;
            background: var(--pure-white);
        }

        /* Hacker Main Content */
        [data-theme="hacker"] .main-content {
            padding: 1.25rem 1.5rem;
            background: var(--hacker-bg);
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
        }

        /* Corporate Main Content */
        [data-theme="corporate"] .main-content {
            padding: 1.5rem 2rem;
            background: var(--corporate-white);
            color: var(--corporate-text);
        }

        /* Control Panel */
        .control-panel {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .glasscard {
            width: 100%;
            height: 100%;
            min-height: calc(100vh - 200px);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            padding: 0;
            margin: 0;
            position: relative;
            z-index: 1;
        }

        #whispra-translate-panel {
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        #whispra-translate-panel .glasscard {
            flex: 1;
            width: 100%;
            min-height: 0;
        }

        .whispra-format-btn:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        .whispra-settings-icon:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        .whispra-settings-icon.active {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: rgba(255, 255, 255, 0.3) !important;
        }

        .whispra-translate-panel textarea::placeholder {
            color: var(--muted);
            opacity: 0.5;
        }

        /* Style select dropdowns in whispra translate panel */
        .whispra-settings-dropdown select {
            background: rgba(255, 255, 255, 0.05) !important;
            color: var(--text) !important;
        }

        .whispra-settings-dropdown select option {
            background: var(--panel) !important;
            color: var(--text) !important;
        }

        /* Neo-Brutalism Theme Overrides for Whispra Settings Dropdowns */
        [data-theme="neo-brutalism"] .whispra-settings-dropdown {
            background: var(--pure-white) !important;
            border: 3px solid var(--true-black) !important;
            border-radius: 0 !important;
            box-shadow: var(--shadow-harsh) !important;
        }

        [data-theme="neo-brutalism"] .whispra-settings-dropdown select {
            background: var(--pure-white) !important;
            border: 3px solid var(--true-black) !important;
            color: var(--true-black) !important;
            border-radius: 0 !important;
            font-weight: 700;
        }

        [data-theme="neo-brutalism"] .whispra-settings-dropdown select option {
            background: var(--pure-white) !important;
            color: var(--true-black) !important;
        }

        [data-theme="hacker"] .whispra-settings-dropdown select option {
            background: var(--hacker-bg) !important;
            color: var(--hacker-text) !important;
        }

        [data-theme="corporate"] .whispra-settings-dropdown select option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        /* Theme overrides for translation panel language selectors */
        [data-theme="neo-brutalism"] #whispra-right-source-lang option,
        [data-theme="neo-brutalism"] #whispra-right-target-lang option,
        [data-theme="neo-brutalism"] #whispra-screen-source-lang option,
        [data-theme="neo-brutalism"] #whispra-screen-target-lang option {
            background: var(--pure-white) !important;
            color: var(--true-black) !important;
        }

        [data-theme="hacker"] #whispra-right-source-lang option,
        [data-theme="hacker"] #whispra-right-target-lang option,
        [data-theme="hacker"] #whispra-screen-source-lang option,
        [data-theme="hacker"] #whispra-screen-target-lang option {
            background: var(--hacker-bg) !important;
            color: var(--hacker-text) !important;
        }

        [data-theme="corporate"] #whispra-right-source-lang option,
        [data-theme="corporate"] #whispra-right-target-lang option,
        [data-theme="corporate"] #whispra-screen-source-lang option,
        [data-theme="corporate"] #whispra-screen-target-lang option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="neo-brutalism"] .whispra-settings-dropdown label {
            color: var(--true-black) !important;
            font-weight: 900;
            text-transform: uppercase;
        }

        /* Corporate Theme Overrides for Whispra Settings Dropdowns */
        [data-theme="corporate"] .whispra-settings-dropdown {
            background: var(--corporate-white) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            box-shadow: var(--shadow-md) !important;
        }

        [data-theme="corporate"] .whispra-settings-dropdown select {
            background: var(--corporate-light-gray) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] .whispra-settings-dropdown select option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] .whispra-settings-dropdown label {
            color: var(--corporate-text) !important;
        }

        /* Settings Modal Tab Active State Fix */
        [data-theme="neo-brutalism"] .settings-tab-nav-button.active {
            background: var(--bright-yellow) !important;
            color: var(--true-black) !important;
            border-color: var(--true-black) !important;
        }

        [data-theme="neo-brutalism"] .settings-tab-nav-button.active *,
        [data-theme="neo-brutalism"] .settings-tab-nav-button.active span,
        [data-theme="neo-brutalism"] .settings-tab-nav-button.active .settings-tab-nav-icon {
            color: var(--true-black) !important;
        }

        [data-theme="neo-brutalism"] .settings-tab-nav-button.active:hover {
            background: var(--neon-red) !important;
            color: var(--pure-white) !important;
        }

        [data-theme="neo-brutalism"] .settings-tab-nav-button.active:hover *,
        [data-theme="neo-brutalism"] .settings-tab-nav-button.active:hover span,
        [data-theme="neo-brutalism"] .settings-tab-nav-button.active:hover .settings-tab-nav-icon {
            color: var(--pure-white) !important;
        }

        /* Also style the language selectors */
        #whispra-left-source-lang,
        #whispra-left-target-lang,
        #whispra-right-source-lang,
        #whispra-right-target-lang {
            background: rgba(255, 255, 255, 0.05) !important;
            color: var(--text) !important;
        }

        #whispra-left-source-lang option,
        #whispra-left-target-lang option,
        #whispra-right-source-lang option,
        #whispra-right-target-lang option {
            background: var(--panel) !important;
            color: var(--text) !important;
        }

        /* Neo-Brutalism Theme Overrides for Whispra Translate Panel */
        [data-theme="neo-brutalism"] #whispra-left-source-lang,
        [data-theme="neo-brutalism"] #whispra-left-target-lang,
        [data-theme="neo-brutalism"] #whispra-right-source-lang,
        [data-theme="neo-brutalism"] #whispra-right-target-lang {
            background: var(--pure-white) !important;
            border: 3px solid var(--true-black) !important;
            color: var(--true-black) !important;
            border-radius: 0 !important;
            font-weight: 700;
        }

        [data-theme="neo-brutalism"] #whispra-left-source-lang option,
        [data-theme="neo-brutalism"] #whispra-left-target-lang option,
        [data-theme="neo-brutalism"] #whispra-right-source-lang option,
        [data-theme="neo-brutalism"] #whispra-right-target-lang option {
            background: var(--pure-white) !important;
            color: var(--true-black) !important;
        }

        /* Corporate Theme Overrides for Whispra Translate Panel */
        [data-theme="corporate"] #whispra-left-source-lang,
        [data-theme="corporate"] #whispra-left-target-lang,
        [data-theme="corporate"] #whispra-right-source-lang,
        [data-theme="corporate"] #whispra-right-target-lang {
            background: var(--corporate-light-gray) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] #whispra-left-source-lang option,
        [data-theme="corporate"] #whispra-left-target-lang option,
        [data-theme="corporate"] #whispra-right-source-lang option,
        [data-theme="corporate"] #whispra-right-target-lang option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        /* Override text-display black background for whispra translate panel */
        #whispra-left-source-text,
        #whispra-left-target-text,
        #whispra-right-source-text,
        #whispra-right-target-text {
            background: transparent !important;
            border: none !important;
            padding: 0 !important;
            color: var(--text) !important;
            font-size: 0.95rem !important;
            line-height: 1.4 !important;
        }

        #whispra-left-source-text.processing,
        #whispra-left-target-text.processing,
        #whispra-right-source-text.processing,
        #whispra-right-target-text.processing {
            background: transparent !important;
            border: none !important;
        }

        #whispra-left-source-text.empty,
        #whispra-left-target-text.empty,
        #whispra-right-source-text.empty,
        #whispra-right-target-text.empty {
            color: #999 !important;
            font-style: italic !important;
        }

        /* Volume slider styling */
        #whispra-translate-volume-slider {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }

        #whispra-translate-volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--accent, #667eea);
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.2s;
        }

        #whispra-translate-volume-slider::-webkit-slider-thumb:hover {
            background: var(--accent-hover, #5568d3);
        }

        #whispra-translate-volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: var(--accent, #667eea);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            transition: background 0.2s;
        }

        #whispra-translate-volume-slider::-moz-range-thumb:hover {
            background: var(--accent-hover, #5568d3);
        }

        /* Bidirectional volume slider styling (same as translation) */
        #whispra-bidirectional-volume-slider {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }

        #whispra-bidirectional-volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--accent, #667eea);
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.2s;
        }

        #whispra-bidirectional-volume-slider::-webkit-slider-thumb:hover {
            background: var(--accent-hover, #5568d3);
        }

        #whispra-bidirectional-volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: var(--accent, #667eea);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            transition: background 0.2s;
        }

        #whispra-bidirectional-volume-slider::-moz-range-thumb:hover {
            background: var(--accent-hover, #5568d3);
        }

        /* Screen Translate Panel Styles */
        #whispra-screen-panel {
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        #whispra-screen-panel .glasscard {
            flex: 1;
            width: 100%;
            min-height: 0;
        }

        .whispra-mode-button:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        .whispra-mode-button.active {
            background: rgba(102, 126, 234, 0.2) !important;
            border-color: rgba(102, 126, 234, 0.4) !important;
        }

        #whispra-screen-source-lang,
        #whispra-screen-target-lang {
            background: rgba(255, 255, 255, 0.05) !important;
            color: var(--text) !important;
        }

        #whispra-screen-source-lang option,
        #whispra-screen-target-lang option {
            background: var(--panel) !important;
            color: var(--text) !important;
        }

        /* Neo-Brutalism Theme Overrides for Screen Translate */
        [data-theme="neo-brutalism"] #whispra-screen-source-lang,
        [data-theme="neo-brutalism"] #whispra-screen-target-lang {
            background: var(--pure-white) !important;
            border: 3px solid var(--true-black) !important;
            color: var(--true-black) !important;
            border-radius: 0 !important;
            font-weight: 700;
        }

        [data-theme="neo-brutalism"] #whispra-screen-source-lang option,
        [data-theme="neo-brutalism"] #whispra-screen-target-lang option {
            background: var(--pure-white) !important;
            color: var(--true-black) !important;
        }

        #whispra-screen-stats,
        #whispra-screen-controls {
            background: transparent !important;
            border: none !important;
            padding: 0 !important;
            color: var(--text) !important;
        }

        /* Corporate Theme Overrides for Screen Translate */
        [data-theme="corporate"] #whispra-screen-panel .glasscard {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            box-shadow: var(--shadow-md);
        }

        [data-theme="corporate"] #whispra-screen-source-lang,
        [data-theme="corporate"] #whispra-screen-target-lang {
            background: var(--corporate-light-gray) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] #whispra-screen-source-lang option,
        [data-theme="corporate"] #whispra-screen-target-lang option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] .whispra-settings-icon {
            background: var(--corporate-light-gray) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            color: var(--corporate-text) !important;
        }

        [data-theme="corporate"] .whispra-settings-icon:hover {
            background: var(--corporate-gray) !important;
            border-color: var(--corporate-accent) !important;
        }

        [data-theme="corporate"] .whispra-settings-dropdown {
            background: var(--corporate-white) !important;
            border: 1px solid var(--corporate-border-gray) !important;
            box-shadow: var(--shadow-md) !important;
        }

        [data-theme="corporate"] #whispra-screen-panel .keybind-info {
            background: var(--corporate-light-gray);
            border: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] #whispra-screen-panel kbd {
            background: var(--corporate-gray) !important;
            border: 1px solid var(--corporate-border-gray);
            color: var(--corporate-text) !important;
        }

        /* GPU mode toggle in corporate theme */
        [data-theme="corporate"] #whispra-screen-gpu-mode-toggle {
            background: var(--corporate-border-gray) !important;
        }

        [data-theme="corporate"] #whispra-screen-gpu-mode-label {
            color: var(--corporate-text) !important;
        }

        /* Paddle warmup toggle in corporate theme */
        [data-theme="corporate"] #whispra-screen-paddle-warmup-toggle {
            background: var(--corporate-border-gray) !important;
        }

        [data-theme="corporate"] #whispra-screen-paddle-warmup-label {
            color: var(--corporate-text) !important;
        }

        /* Corporate theme: Add subtle gray background to settings row */
        [data-theme="corporate"] #whispra-screen-panel [style*="background: var(--settings-bg"] {
            background: var(--corporate-light-gray) !important;
        }

        /* Corporate theme: Ensure divider line is visible */
        [data-theme="corporate"] #whispra-screen-panel [style*="background: var(--control-border"] {
            background: var(--corporate-border-gray) !important;
        }

        .control-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: center;
        }

        .control-group {
            flex: 1;
        }

        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--muted);
        }

        .control-group select,
        .control-group button {
            width: 100%;
            padding: 0.65rem 0.75rem;
            border: 1px solid var(--border);
            background: var(--bg);
            color: var(--text);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .control-group select:focus,
        .control-group button:focus {
            outline: none;
            border-color: var(--focus);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.12);
        }

        /* Neo-Brutalism Main Content */
        [data-theme="neo-brutalism"] .main-content {
            padding: 2rem;
            background: var(--pure-white);
        }

        [data-theme="neo-brutalism"] .control-panel {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-large);
            position: relative;
        }

        [data-theme="neo-brutalism"] .control-row {
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        [data-theme="neo-brutalism"] .control-group label {
            margin-bottom: 0.75rem;
            font-weight: 900;
            font-size: 1rem;
            color: var(--true-black);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .control-group select,
        [data-theme="neo-brutalism"] .control-group button {
            padding: 1rem 1.25rem;
            border: 3px solid var(--true-black);
            background: var(--pure-white);
            color: var(--true-black);
            border-radius: 0;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .control-group select:hover,
        [data-theme="neo-brutalism"] .control-group button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .control-group select:focus,
        [data-theme="neo-brutalism"] .control-group button:focus {
            border-color: var(--electric-blue);
            box-shadow: 0 0 0 4px var(--electric-blue), var(--shadow-harsh);
        }

        /* Hacker Control Panel */
        [data-theme="hacker"] .control-panel {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            padding: 1.25rem;
            margin-bottom: 1rem;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .control-row {
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        [data-theme="hacker"] .control-group label {
            margin-bottom: 0.5rem;
            font-weight: 400;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .control-group select,
        [data-theme="hacker"] .control-group button {
            padding: 0.65rem 0.75rem;
            border: 1px solid var(--hacker-border);
            background: var(--hacker-bg);
            color: var(--hacker-text);
            border-radius: 0;
            font-size: 1rem;
            transition: all 0.2s ease;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .control-group select:hover,
        [data-theme="hacker"] .control-group button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .control-group select:focus,
        [data-theme="hacker"] .control-group button:focus {
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            outline: none;
        }

        /* Corporate Control Panel */
        [data-theme="corporate"] .control-panel {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .control-row {
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        [data-theme="corporate"] .control-group label {
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--corporate-text);
            font-size: 0.875rem;
            letter-spacing: 0.01em;
        }

        [data-theme="corporate"] .control-group select,
        [data-theme="corporate"] .control-group button {
            padding: 0.625rem 0.875rem;
            border: 1px solid var(--corporate-border-gray);
            background: var(--corporate-white);
            color: var(--corporate-text);
            border-radius: 6px;
            font-size: 0.875rem;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .control-group select:hover,
        [data-theme="corporate"] .control-group button:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .control-group select:focus,
        [data-theme="corporate"] .control-group button:focus {
            border-color: var(--corporate-accent);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        /* Theme-specific option styling for control-group selects */
        [data-theme="neo-brutalism"] .control-group select option {
            background: var(--pure-white) !important;
            color: var(--true-black) !important;
        }

        [data-theme="hacker"] .control-group select option {
            background: var(--hacker-bg) !important;
            color: var(--hacker-text) !important;
        }

        [data-theme="corporate"] .control-group select option {
            background: var(--corporate-white) !important;
            color: var(--corporate-text) !important;
        }

        /* Display Selector Styles */
        .display-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            flex-wrap: nowrap;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.25rem 0;
            min-height: 70px;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .display-selector::-webkit-scrollbar {
            height: 4px;
        }

        .display-selector::-webkit-scrollbar-track {
            background: transparent;
        }

        .display-selector::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 2px;
        }

        .display-selector::-webkit-scrollbar-thumb:hover {
            background: var(--muted);
        }

        .display-rectangle {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            width: 60px;
            height: 50px;
            border: 2px solid var(--border);
            background: var(--panel);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            position: relative;
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .display-selector {
                gap: 0.75rem;
            }

            .display-rectangle {
                min-width: 70px;
                width: 70px;
                height: 55px;
            }
        }

        @media (min-width: 1024px) {
            .display-rectangle {
                min-width: 80px;
                width: 80px;
                height: 60px;
            }
        }

        .display-rectangle:hover {
            border-color: var(--focus);
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-1px);
        }

        .display-rectangle.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }

        .display-rectangle .display-number {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 1px;
        }

        .display-rectangle .display-label {
            font-size: 0.6rem;
            color: var(--muted);
            text-align: center;
            line-height: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        @media (min-width: 768px) {
            .display-rectangle .display-number {
                font-size: 1.1rem;
                margin-bottom: 2px;
            }

            .display-rectangle .display-label {
                font-size: 0.65rem;
            }
        }

        @media (min-width: 1024px) {
            .display-rectangle .display-number {
                font-size: 1.2rem;
            }

            .display-rectangle .display-label {
                font-size: 0.7rem;
            }
        }

        .display-rectangle.selected .display-number {
            color: #4CAF50;
        }

        .display-rectangle.selected .display-label {
            color: #4CAF50;
        }

        /* Neo-Brutalism Display Selector */
        [data-theme="neo-brutalism"] .display-selector {
            gap: 1rem;
            padding: 0.5rem 0;
            min-height: 80px;
            scrollbar-color: var(--true-black) transparent;
        }

        [data-theme="neo-brutalism"] .display-selector::-webkit-scrollbar {
            height: 6px;
        }

        [data-theme="neo-brutalism"] .display-selector::-webkit-scrollbar-track {
            background: var(--pure-white);
            border: 2px solid var(--true-black);
        }

        [data-theme="neo-brutalism"] .display-selector::-webkit-scrollbar-thumb {
            background: var(--electric-blue);
            border: 2px solid var(--true-black);
            border-radius: 0;
        }

        [data-theme="neo-brutalism"] .display-selector::-webkit-scrollbar-thumb:hover {
            background: var(--neon-red);
        }

        [data-theme="neo-brutalism"] .display-rectangle {
            min-width: 80px;
            width: 80px;
            height: 70px;
            border: 3px solid var(--true-black);
            background: var(--pure-white);
            border-radius: 0;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .display-rectangle:hover {
            border-color: var(--true-black);
            background: var(--electric-blue);
            transform: translate(-3px, -3px);
            box-shadow: 0 8px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="neo-brutalism"] .display-rectangle.selected {
            border-color: var(--true-black);
            background: var(--acid-green);
            box-shadow: var(--shadow-large);
        }

        [data-theme="neo-brutalism"] .display-rectangle .display-number {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--true-black);
            margin-bottom: 4px;
        }

        [data-theme="neo-brutalism"] .display-rectangle .display-label {
            font-size: 0.7rem;
            color: var(--true-black);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .display-rectangle.selected .display-number,
        [data-theme="neo-brutalism"] .display-rectangle.selected .display-label {
            color: var(--true-black);
        }

        /* Hacker Display Selector */
        [data-theme="hacker"] .display-selector {
            gap: 0.5rem;
            padding: 0.25rem 0;
            min-height: 70px;
            scrollbar-color: var(--hacker-green) transparent;
        }

        [data-theme="hacker"] .display-selector::-webkit-scrollbar {
            height: 4px;
        }

        [data-theme="hacker"] .display-selector::-webkit-scrollbar-track {
            background: transparent;
        }

        [data-theme="hacker"] .display-selector::-webkit-scrollbar-thumb {
            background: var(--hacker-green);
            border-radius: 0;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .display-selector::-webkit-scrollbar-thumb:hover {
            background: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .display-rectangle {
            min-width: 60px;
            width: 60px;
            height: 50px;
            border: 1px solid var(--hacker-border);
            background: var(--hacker-panel);
            border-radius: 0;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .display-rectangle:hover {
            border-color: var(--hacker-cyan);
            background: var(--hacker-dark-green);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .display-rectangle.selected {
            border-color: var(--hacker-cyan);
            background: var(--hacker-dark-green);
            box-shadow: var(--glow-strong);
        }

        [data-theme="hacker"] .display-rectangle .display-number {
            font-size: 1rem;
            font-weight: 400;
            color: var(--hacker-text);
            margin-bottom: 1px;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .display-rectangle .display-label {
            font-size: 0.6rem;
            color: var(--hacker-muted);
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .display-rectangle.selected .display-number,
        [data-theme="hacker"] .display-rectangle.selected .display-label {
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }

        /* Corporate Display Selector */
        [data-theme="corporate"] .display-selector {
            gap: 0.5rem;
            padding: 0.25rem 0;
            min-height: 70px;
            scrollbar-color: var(--corporate-border-gray) transparent;
        }

        [data-theme="corporate"] .display-selector::-webkit-scrollbar {
            height: 4px;
        }

        [data-theme="corporate"] .display-selector::-webkit-scrollbar-track {
            background: transparent;
        }

        [data-theme="corporate"] .display-selector::-webkit-scrollbar-thumb {
            background: var(--corporate-border-gray);
            border-radius: 2px;
        }

        [data-theme="corporate"] .display-selector::-webkit-scrollbar-thumb:hover {
            background: var(--corporate-text-light);
        }

        [data-theme="corporate"] .display-rectangle {
            min-width: 60px;
            width: 60px;
            height: 50px;
            border: 1px solid var(--corporate-border-gray);
            background: var(--corporate-white);
            border-radius: 6px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .display-rectangle:hover {
            border-color: var(--corporate-accent);
            background: var(--corporate-light-gray);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }

        [data-theme="corporate"] .display-rectangle.selected {
            border-color: var(--corporate-accent);
            background: var(--corporate-accent-light);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .display-rectangle .display-number {
            font-size: 1rem;
            font-weight: 600;
            color: var(--corporate-text);
            margin-bottom: 1px;
        }

        [data-theme="corporate"] .display-rectangle .display-label {
            font-size: 0.6rem;
            color: var(--corporate-text-light);
        }

        [data-theme="corporate"] .display-rectangle.selected .display-number,
        [data-theme="corporate"] .display-rectangle.selected .display-label {
            color: var(--corporate-accent);
        }

        .disabled-input {
            width: 100%;
            padding: 0.65rem 0.75rem;
            border: 1px solid var(--border);
            background: rgba(40, 40, 40, 0.9);
            color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            font-size: 1rem;
            cursor: not-allowed;
        }

        /* Main Controls */
        .main-controls {
            text-align: center;
            margin: 2rem 0;
        }

        .start-button {
            background: #ffffff;
            color: #000000;
            border: 1px solid var(--border);
            padding: 0.9rem 2rem;
            font-size: 1.15rem;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .start-button:hover {
            filter: brightness(0.9);
        }

        .start-button.active {
            background: #000;
            color: #fff;
            border-color: #fff;
        }

        /* Neo-Brutalism Main Controls */
        [data-theme="neo-brutalism"] .main-controls {
            margin: 3rem 0;
        }

        [data-theme="neo-brutalism"] .start-button {
            background: var(--electric-blue);
            color: var(--true-black);
            border: 3px solid var(--true-black);
            padding: 1.5rem 3rem;
            font-size: 1.5rem;
            font-weight: 900;
            border-radius: 0;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: var(--shadow-large);
        }

        [data-theme="neo-brutalism"] .start-button:hover {
            background: var(--acid-green);
            filter: none;
            transform: translate(-4px, -4px);
            box-shadow: 0 10px 0 rgba(0, 0, 0, 0.15);
        }

        /* Neo-brutalism soundboard buttons - ensure consistent width */
        [data-theme="neo-brutalism"] #add-sound-button,
        [data-theme="neo-brutalism"] #soundboard-overlay-button,
        [data-theme="neo-brutalism"] #stop-all-sounds-button {
            width: 100%;
            min-width: 200px;
            flex: 1 1 0;
            text-align: center;
            box-sizing: border-box;
            padding: 1.5rem 1rem !important;
            height: auto;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        /* Ensure control-group takes equal space for soundboard buttons */
        [data-theme="neo-brutalism"] .control-row .control-group {
            flex: 1;
            min-width: 0;
        }

        [data-theme="neo-brutalism"] .start-button.active {
            background: var(--true-black);
            color: var(--bright-yellow);
            border-color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .start-button.active:hover {
            background: var(--neon-red);
            color: var(--pure-white);
            transform: translate(-4px, -4px);
            box-shadow: 0 10px 0 rgba(0, 0, 0, 0.15);
        }

        /* Hacker Main Controls */
        [data-theme="hacker"] .main-controls {
            margin: 2rem 0;
        }

        [data-theme="hacker"] .start-button {
            background: var(--hacker-bg);
            color: var(--hacker-text);
            border: 1px solid var(--hacker-border);
            padding: 0.9rem 2rem;
            font-size: 1.15rem;
            font-weight: 400;
            border-radius: 0;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .start-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
            filter: none;
        }

        [data-theme="hacker"] .start-button.active {
            background: var(--hacker-dark-green);
            color: var(--hacker-cyan);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-strong);
            text-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .start-button.active:hover {
            box-shadow: var(--glow-strong);
        }

        /* Corporate Main Controls */
        [data-theme="corporate"] .main-controls {
            margin: 2rem 0;
        }

        [data-theme="corporate"] .start-button {
            background: var(--corporate-accent);
            color: var(--corporate-white);
            border: 1px solid var(--corporate-accent);
            padding: 0.875rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 6px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .start-button:hover {
            background: var(--corporate-accent-hover);
            border-color: var(--corporate-accent-hover);
            box-shadow: var(--shadow-md);
            filter: none;
            transform: translateY(-1px);
        }

        [data-theme="corporate"] .start-button.active {
            background: var(--corporate-success);
            color: var(--corporate-white);
            border-color: var(--corporate-success);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .start-button.active:hover {
            background: #059669;
            border-color: #059669;
            box-shadow: var(--shadow-md);
        }

        /* Stop All Button - Special styling for destructive action */
        .stop-all-button {
            background: #dc3545 !important;
            color: white !important;
        }

        .stop-all-button:hover {
            background: #c82333 !important;
        }

        [data-theme="neo-brutalism"] .stop-all-button {
            background: var(--neon-red) !important;
            color: var(--pure-white) !important;
            border: 3px solid var(--true-black) !important;
        }

        [data-theme="neo-brutalism"] .stop-all-button:hover {
            background: #e60026 !important;
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        [data-theme="hacker"] .stop-all-button {
            background: var(--hacker-error) !important;
            color: var(--pure-white) !important;
            border: 1px solid var(--hacker-error) !important;
        }

        [data-theme="hacker"] .stop-all-button:hover {
            background: #cc0000 !important;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        [data-theme="corporate"] .stop-all-button {
            background: var(--corporate-error) !important;
            color: var(--corporate-white) !important;
            border: 1px solid var(--corporate-error) !important;
        }

        [data-theme="corporate"] .stop-all-button:hover {
            background: #dc2626 !important;
            border-color: #dc2626 !important;
        }

        /* Status Indicator */
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #777;
            margin-right: 0.5rem;
            animation: pulse 2s infinite;
        }

        .status-indicator.active {
            background: #fff;
        }

        .status-indicator.error {
            background: #000;
            border: 2px solid #fff;
        }

        .status-indicator.warning {
            background: #111;
            border: 1px dashed #fff;
        }

        .status-indicator.pulsing {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                opacity: 1;
            }
        }

        /* Neo-Brutalism Status Indicator */
        [data-theme="neo-brutalism"] .status-indicator {
            width: 16px;
            height: 16px;
            border-radius: 0;
            background: var(--true-black);
            border: 3px solid var(--true-black);
            margin-right: 0.75rem;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .status-indicator.active {
            background: var(--acid-green);
            border-color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .status-indicator.error {
            background: var(--neon-red);
            border-color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .status-indicator.warning {
            background: var(--bright-yellow);
            border-color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .status-indicator.pulsing {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Hacker Status Indicator */
        [data-theme="hacker"] .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 0;
            background: var(--hacker-border);
            border: 1px solid var(--hacker-border);
            margin-right: 0.5rem;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .status-indicator.active {
            background: var(--hacker-green);
            border-color: var(--hacker-green);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .status-indicator.error {
            background: var(--hacker-error);
            border-color: var(--hacker-error);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        [data-theme="hacker"] .status-indicator.warning {
            background: var(--hacker-warning);
            border-color: var(--hacker-warning);
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
        }

        [data-theme="hacker"] .status-indicator.pulsing {
            animation: pulse-hacker 1s infinite;
        }

        @keyframes pulse-hacker {
            0% {
                opacity: 1;
                box-shadow: var(--glow-green);
            }
            50% {
                opacity: 0.5;
                box-shadow: var(--glow-cyan);
            }
            100% {
                opacity: 1;
                box-shadow: var(--glow-green);
            }
        }

        /* Corporate Status Indicator */
        [data-theme="corporate"] .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--corporate-text-light);
            margin-right: 0.5rem;
        }

        [data-theme="corporate"] .status-indicator.active {
            background: var(--corporate-success);
        }

        [data-theme="corporate"] .status-indicator.error {
            background: var(--corporate-error);
            border: 2px solid var(--corporate-white);
        }

        [data-theme="corporate"] .status-indicator.warning {
            background: var(--corporate-warning);
            border: 2px solid var(--corporate-white);
        }

        [data-theme="corporate"] .status-indicator.pulsing {
            animation: pulse 1s infinite;
        }

        .debug-console {
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            height: 200px;
            overflow-y: auto;
            margin-top: 1rem;
            display: none;
        }

        .debug-console.visible {
            display: block;
        }

        /* Footer */
        .footer {
            background: var(--bg);
            padding: 0.9rem 1.25rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-status {
            color: var(--muted);
            font-size: 0.9rem;
        }

        .footer-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .debug-toggle {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .debug-toggle:hover {
            background: #111;
        }

        /* Neo-Brutalism Footer */
        [data-theme="neo-brutalism"] .footer {
            background: var(--pure-white);
            padding: 1.25rem 2rem;
            border-top: 3px solid var(--true-black);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .footer-status {
            color: var(--true-black);
            font-size: 0.95rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .footer-actions {
            gap: 0.75rem;
        }

        [data-theme="neo-brutalism"] .debug-toggle {
            background: var(--pure-white);
            color: var(--true-black);
            border: 3px solid var(--true-black);
            padding: 0.75rem 1.5rem;
            border-radius: 0;
            font-size: 0.85rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .debug-toggle:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        /* Hacker Footer */
        [data-theme="hacker"] .footer {
            background: var(--hacker-bg);
            padding: 0.9rem 1.25rem;
            border-top: 1px solid var(--hacker-border);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .footer-status {
            color: var(--hacker-text);
            font-size: 0.9rem;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .footer-actions {
            gap: 0.5rem;
        }

        [data-theme="hacker"] .debug-toggle {
            background: var(--hacker-panel);
            color: var(--hacker-text);
            border: 1px solid var(--hacker-border);
            padding: 0.5rem 1rem;
            border-radius: 0;
            font-size: 0.8rem;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .debug-toggle:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
        }

        /* Corporate Footer */
        [data-theme="corporate"] .footer {
            background: var(--corporate-white);
            padding: 0.875rem 1.25rem;
            border-top: 1px solid var(--corporate-border-gray);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .footer-status {
            color: var(--corporate-text-light);
            font-size: 0.875rem;
        }

        [data-theme="corporate"] .footer-actions {
            gap: 0.5rem;
        }

        [data-theme="corporate"] .debug-toggle {
            background: var(--corporate-white);
            color: var(--corporate-text);
            border: 1px solid var(--corporate-border-gray);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.8rem;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .debug-toggle:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        /* Custom voice modal styles */
        .voice-modal-input:focus {
            outline: none;
            border-color: var(--focus);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.12);
        }

        .voice-modal-button {
            transition: all 0.2s ease;
        }

        .voice-modal-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 255, 255, 0.06);
        }

        .voice-modal-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Live Translation Panel */
        .live-translation-panel {
            position: relative;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin-top: 1rem;
        }

        .translation-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .keybind-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-content: center;
            margin: 1rem 0;
            padding: 0.75rem;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text);
        }

        .keybind-info.compact {
            position: absolute;
            top: 1rem;
            right: 1rem;
            margin: 0;
            padding: 0.4rem 0.6rem;
            font-size: 0.75rem;
            background: rgba(102, 126, 234, 0.08);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 6px;
            z-index: 10;
        }

        .keybind-info.compact kbd {
            font-size: 0.7rem;
            padding: 0.15rem 0.3rem;
        }

        .control-panel {
            position: relative;
        }

        .keybind-info kbd {
            background: #667eea;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .change-keybind-btn {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid #667eea;
            color: #667eea;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .change-keybind-btn:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        /* Neo-Brutalism Translation Panel */
        [data-theme="neo-brutalism"] .live-translation-panel {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: var(--shadow-large);
        }

        [data-theme="neo-brutalism"] .translation-status {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 3px solid var(--true-black);
        }

        [data-theme="neo-brutalism"] .keybind-info {
            background: var(--electric-blue);
            border: 3px solid var(--true-black);
            border-radius: 0;
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            font-weight: 900;
            color: var(--true-black);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .keybind-info.compact {
            top: 1.5rem;
            right: 1.5rem;
            padding: 0.75rem 1rem;
            font-size: 0.85rem;
            background: var(--bright-yellow);
            border: 3px solid var(--true-black);
            border-radius: 0;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .keybind-info kbd {
            background: var(--true-black);
            color: var(--bright-yellow);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-weight: 900;
            font-size: 1rem;
            border: 3px solid var(--true-black);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .change-keybind-btn {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            color: var(--true-black);
            padding: 0.5rem 1rem;
            border-radius: 0;
            font-size: 0.85rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .change-keybind-btn:hover {
            background: var(--neon-red);
            color: var(--pure-white);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        /* Hacker Translation Panel */
        [data-theme="hacker"] .live-translation-panel {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            padding: 1.25rem;
            margin-top: 1rem;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .translation-status {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--hacker-border);
        }

        [data-theme="hacker"] .keybind-info {
            background: var(--hacker-dark-green);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            margin: 1rem 0;
            padding: 0.75rem;
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .keybind-info.compact {
            top: 1rem;
            right: 1rem;
            padding: 0.4rem 0.6rem;
            font-size: 0.75rem;
            background: var(--hacker-dark-green);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .keybind-info kbd {
            background: var(--hacker-bg);
            color: var(--hacker-cyan);
            padding: 0.25rem 0.5rem;
            border-radius: 0;
            font-weight: 400;
            font-size: 0.9rem;
            border: 1px solid var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            text-shadow: var(--glow-cyan);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .change-keybind-btn {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            color: var(--hacker-text);
            padding: 0.25rem 0.75rem;
            border-radius: 0;
            font-size: 0.8rem;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .change-keybind-btn:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
        }

        /* Corporate Translation Panel */
        [data-theme="corporate"] .live-translation-panel {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .translation-status {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] .keybind-info {
            background: var(--corporate-accent-light);
            border: 1px solid var(--corporate-accent);
            border-radius: 6px;
            margin: 1rem 0;
            padding: 0.75rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--corporate-accent);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .keybind-info.compact {
            top: 1rem;
            right: 1rem;
            padding: 0.4rem 0.6rem;
            font-size: 0.75rem;
            background: var(--corporate-accent-light);
            border: 1px solid var(--corporate-accent);
            border-radius: 6px;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .keybind-info kbd {
            background: var(--corporate-accent);
            color: var(--corporate-white);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.875rem;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .change-keybind-btn {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            color: var(--corporate-text);
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.8rem;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .change-keybind-btn:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            width: 100%;
            min-width: 0;
            flex-shrink: 1;
        }

        .slider-container > span {
            min-width: 45px;
            text-align: right;
            flex-shrink: 0;
            font-weight: 500;
        }

        .slider {
            flex: 1;
            min-width: 0;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            transition: background 0.3s ease;
            position: relative;
        }

        /* Soundboard volume sliders with dynamic blue fill - will be set by JavaScript */
        #sound-board-volume,
        #sound-board-headphones-volume {
            background: rgba(255, 255, 255, 0.1);
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        /* Soundboard slider thumbs - blue */
        #sound-board-volume::-webkit-slider-thumb,
        #sound-board-headphones-volume::-webkit-slider-thumb {
            background: var(--accent-blue);
        }

        #sound-board-volume::-webkit-slider-thumb:hover,
        #sound-board-headphones-volume::-webkit-slider-thumb:hover {
            background: var(--accent-blue-hover);
        }

        #sound-board-volume::-moz-range-thumb,
        #sound-board-headphones-volume::-moz-range-thumb {
            background: var(--accent-blue);
        }

        .slider::-webkit-slider-thumb:hover {
            background: #5a67d8;
            transform: scale(1.1);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .recording-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .recording-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            transition: all 0.3s ease;
        }

        .recording-dot.active {
            background: #ff4444;
            animation: pulse 1s infinite;
        }

        .translation-display {
            margin-top: 1rem;
        }

        .translation-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .translation-section {
            background: #0f0f0f;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
        }

        .translation-section label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--muted);
        }

        .text-display {
            min-height: 60px;
            padding: 0.75rem;
            background: #000;
            border-radius: 6px;
            border: 1px solid var(--border);
            font-size: 0.95rem;
            line-height: 1.4;
            color: var(--text);
        }

        .text-display.empty {
            color: #999;
            font-style: italic;
        }

        .text-display.processing {
            background: #0f0f0f;
            border-color: #3a3a3a;
        }

        @media (max-width: 768px) {
            .translation-box {
                grid-template-columns: 1fr;
            }
        }

        /* Neo-Brutalism Translation Display */
        [data-theme="neo-brutalism"] .translation-display {
            margin-top: 2rem;
        }

        [data-theme="neo-brutalism"] .translation-box {
            gap: 1.5rem;
        }

        [data-theme="neo-brutalism"] .translation-section {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            padding: 1.5rem;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .translation-section label {
            font-weight: 900;
            font-size: 1rem;
            margin-bottom: 0.75rem;
            color: var(--true-black);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .text-display {
            min-height: 100px;
            padding: 1.25rem;
            background: var(--pure-white);
            border-radius: 0;
            border: 3px solid var(--true-black);
            font-size: 1.1rem;
            line-height: 1.5;
            color: var(--true-black);
            font-weight: 700;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .text-display.empty {
            color: var(--true-black);
            font-style: normal;
            opacity: 0.5;
        }

        [data-theme="neo-brutalism"] .text-display.processing {
            background: var(--bright-yellow);
            border-color: var(--true-black);
        }


        /* Hacker Translation Display */
        [data-theme="hacker"] .translation-display {
            margin-top: 1rem;
        }

        [data-theme="hacker"] .translation-box {
            gap: 1rem;
        }

        [data-theme="hacker"] .translation-section {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            padding: 1rem;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .translation-section label {
            font-weight: 400;
            margin-bottom: 0.5rem;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .text-display {
            min-height: 60px;
            padding: 0.75rem;
            background: var(--hacker-bg);
            border-radius: 0;
            border: 1px solid var(--hacker-border);
            font-size: 0.95rem;
            line-height: 1.4;
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .text-display.empty {
            color: var(--hacker-muted);
            font-style: normal;
            opacity: 0.6;
        }

        [data-theme="hacker"] .text-display.processing {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
        }


        /* Corporate Translation Display */
        [data-theme="corporate"] .translation-display {
            margin-top: 1rem;
        }

        [data-theme="corporate"] .translation-box {
            gap: 1rem;
        }

        [data-theme="corporate"] .translation-section {
            background: var(--corporate-light-gray);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 8px;
            padding: 1.25rem;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .translation-section label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--corporate-text);
            font-size: 0.875rem;
            letter-spacing: 0.01em;
        }

        [data-theme="corporate"] .text-display {
            min-height: 60px;
            padding: 0.875rem;
            background: var(--corporate-white);
            border-radius: 6px;
            border: 1px solid var(--corporate-border-gray);
            font-size: 0.9375rem;
            line-height: 1.5;
            color: var(--corporate-text);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .text-display.empty {
            color: var(--corporate-text-light);
            font-style: italic;
        }

        [data-theme="corporate"] .text-display.processing {
            background: var(--corporate-accent-light);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
        }


        /* Sound Pad Styles */
        .sound-pad {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-height: 80px;
            transition: all 0.2s ease;
            position: relative;
        }

        .sound-pad:hover {
            background: #111;
            border-color: var(--focus);
            transform: translateY(-1px);
        }

        .sound-pad:active {
            transform: translateY(0);
            background: #0a0a0a;
        }

        .sound-pad-label {
            color: var(--text);
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
        }

        .sound-pad-key {
            background: var(--focus);
            color: #000;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Update Page Styles */
        .action-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1rem;
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .action-button:hover {
            background: #0f0f0f;
            border-color: var(--focus);
            transform: translateY(-1px);
        }

        .action-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .action-button .icon {
            font-size: 1rem;
        }

        .version-info {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .progress-container {
            width: 100%;
        }

        .progress-bar {
            background: #333;
            border-radius: 4px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--muted);
            text-align: center;
        }

        /* Prevent horizontal scrolling in sound board area */
        #sound-board-panel {
            overflow-x: hidden;
        }

        .sound-pad {
            min-width: 0;
            word-wrap: break-word;
            overflow: visible;
            text-overflow: ellipsis;
            position: relative;
            transition: transform 0.2s ease;
        }

        .sound-pad:hover {
            transform: scale(1.02);
            z-index: 5;
        }

        .sound-pad-delete {
            transition: background-color 0.2s ease;
        }

        .sound-pad-delete:hover {
            background: rgba(220, 53, 69, 1) !important;
            transform: scale(1.1);
        }

        /* Neo-Brutalism Sound Pad */
        [data-theme="neo-brutalism"] .sound-pad {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            padding: 1.5rem;
            gap: 0.75rem;
            min-height: 120px;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .sound-pad:hover {
            background: var(--electric-blue);
            transform: translate(-4px, -4px);
            box-shadow: 0 10px 0 rgba(0, 0, 0, 0.15);
            z-index: 5;
        }

        [data-theme="neo-brutalism"] .sound-pad:active {
            transform: translate(0, 0);
            background: var(--acid-green);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .sound-pad-label {
            color: var(--true-black);
            font-size: 1rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        [data-theme="neo-brutalism"] .sound-pad-key {
            background: var(--true-black);
            color: var(--bright-yellow);
            padding: 0.5rem 0.75rem;
            border-radius: 0;
            font-size: 0.9rem;
            font-weight: 900;
            border: 3px solid var(--true-black);
            box-shadow: var(--shadow-harsh);
        }

        /* Hacker Sound Pad */
        [data-theme="hacker"] .sound-pad {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            padding: 1rem;
            gap: 0.5rem;
            min-height: 80px;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .sound-pad:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            transform: translateY(-1px);
            z-index: 5;
        }

        [data-theme="hacker"] .sound-pad:active {
            transform: translateY(0);
            background: var(--hacker-dark-green);
            box-shadow: var(--glow-strong);
        }

        [data-theme="hacker"] .sound-pad-label {
            color: var(--hacker-text);
            font-size: 0.9rem;
            font-weight: 400;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .sound-pad-key {
            background: var(--hacker-bg);
            color: var(--hacker-cyan);
            padding: 0.25rem 0.5rem;
            border-radius: 0;
            font-size: 0.8rem;
            font-weight: 400;
            border: 1px solid var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            text-shadow: var(--glow-cyan);
            font-family: 'Courier New', monospace;
        }

        /* Corporate Sound Pad */
        [data-theme="corporate"] .sound-pad {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 8px;
            padding: 1rem;
            gap: 0.5rem;
            min-height: 80px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .sound-pad:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
            z-index: 5;
        }

        [data-theme="corporate"] .sound-pad:active {
            transform: translateY(0);
            background: var(--corporate-gray);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .sound-pad-label {
            color: var(--corporate-text);
            font-size: 0.875rem;
            font-weight: 500;
        }

        [data-theme="corporate"] .sound-pad-key {
            background: var(--corporate-accent);
            color: var(--corporate-white);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            box-shadow: var(--shadow-subtle);
        }

        /* Neo-Brutalism Action Button */
        [data-theme="neo-brutalism"] .action-button {
            padding: 1rem 1.5rem;
            border: 3px solid var(--true-black);
            background: var(--pure-white);
            color: var(--true-black);
            border-radius: 0;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .action-button:hover {
            background: var(--electric-blue);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: none;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999999;
        }

        .coming-soon-overlay {
            position: relative;
            pointer-events: none;
        }

        .coming-soon-overlay::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--pure-white);
            z-index: 10;
            pointer-events: auto;
            border: 3px solid var(--true-black);
        }

        .coming-soon-overlay::after {
            content: 'COMING SOON';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: 900;
            color: var(--neon-red);
            text-align: center;
            z-index: 11;
            pointer-events: auto;
            border: 3px solid var(--true-black);
            padding: 2rem;
            background: var(--bright-yellow);
            box-shadow: var(--shadow-large);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            animation: pulse 2s ease-in-out infinite;
        }

        .modal-content {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-large);
        }

        .modal-header {
            padding: 2rem;
            border-bottom: 3px solid var(--true-black);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bright-yellow);
        }

        .modal-header h3 {
            margin: 0;
            color: var(--true-black);
            font-size: 1.75rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .modal-close {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            color: var(--true-black);
            font-size: 2rem;
            font-weight: 900;
            cursor: pointer;
            padding: 0.5rem 1rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        .modal-close:hover {
            background: var(--neon-red);
            color: var(--pure-white);
            transform: translate(-2px, -2px);
            box-shadow: 0 7px 0 rgba(0, 0, 0, 0.15);
        }

        .modal-body {
            padding: 2rem;
            background: var(--pure-white);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text);
            font-weight: 500;
        }

        .form-group input[type="text"] {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--accent);
            border-radius: 6px;
            background: var(--secondary);
            color: var(--text);
            font-size: 1rem;
            box-sizing: border-box;
        }

        .form-group input[type="text"]:focus {
            outline: none;
            border-color: var(--button-primary);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .hotkey-input-container {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .hotkey-input-container input {
            flex: 1;
        }

        .help-text {
            display: block;
            margin-top: 0.5rem;
            color: var(--muted);
            font-size: 0.85rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--accent);
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .primary-button,
        .secondary-button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .primary-button {
            background: var(--button-primary);
            color: white;
        }

        .primary-button:hover {
            background: var(--button-primary-hover);
        }

        .primary-button:disabled {
            background: var(--muted);
            cursor: not-allowed;
        }

        .secondary-button {
            background: var(--secondary);
            color: var(--text);
            border: 1px solid var(--accent);
        }

        .secondary-button:hover {
            background: var(--accent);
        }

        /* Prevent horizontal scrolling in sound board area */
        #sound-board-panel {
            overflow-x: hidden;
        }

        /* Duplicate sound-pad styles removed - see main Sound Pad Styles section above */

        /* Toggle Switch Styles */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
            cursor: pointer;
        }

        .switch {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--border);
            border-radius: 24px;
            transition: background-color 0.2s ease;
        }

        .switch.active {
            background: var(--focus);
        }

        .switch-handle {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: rgba(156, 163, 175, 0.8);
            border-radius: 50%;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .switch.active .switch-handle {
            transform: translateX(20px) scale(1);
            background: white;
        }

        .toggle-switch:hover .switch {
            background: #555;
        }

        .toggle-switch:hover .switch.active {
            background: var(--focus);
            filter: brightness(1.1);
        }

        /* Quick Translate Toggle - Blue styling */
        #quick-translate-auto-switch.active {
            background: var(--accent-blue) !important;
        }

        #quick-translate-auto-toggle:hover #quick-translate-auto-switch.active {
            background: var(--accent-blue-hover) !important;
            filter: brightness(1.1);
        }

        /* Quick Translate Button - Blue styling */
        #quick-translate-btn {
            background: var(--accent-blue) !important;
            border-color: var(--accent-blue) !important;
            color: white !important;
        }

        #quick-translate-btn:hover {
            background: var(--accent-blue-hover) !important;
            border-color: var(--accent-blue-hover) !important;
            color: white !important;
        }

        #quick-translate-btn:disabled {
            background: var(--muted) !important;
            border-color: var(--muted) !important;
            color: white !important;
        }

        /* Neo-Brutalism Toggle Switch Overrides */
        [data-theme="neo-brutalism"] .toggle-switch {
            width: 60px;
            height: 32px;
        }

        [data-theme="neo-brutalism"] .switch {
            background: var(--pure-white);
            border: 3px solid var(--true-black);
            border-radius: 0;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .switch.active {
            background: var(--acid-green);
            border-color: var(--true-black);
        }

        [data-theme="neo-brutalism"] .switch-handle {
            width: 24px;
            height: 24px;
            background: var(--true-black);
            border-radius: 0;
            transition: all 0.15s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: var(--shadow-harsh);
        }

        [data-theme="neo-brutalism"] .switch.active .switch-handle {
            transform: translateX(28px);
            background: var(--true-black);
        }

        [data-theme="neo-brutalism"] .toggle-switch:hover .switch {
            background: var(--electric-blue);
        }

        [data-theme="neo-brutalism"] .toggle-switch:hover .switch.active {
            background: var(--acid-green);
        }

        /* Hacker Toggle Switch */
        [data-theme="hacker"] .toggle-switch {
            width: 44px;
            height: 24px;
        }

        [data-theme="hacker"] .switch {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .switch.active {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .switch-handle {
            width: 20px;
            height: 20px;
            background: var(--hacker-border);
            border-radius: 0;
            transition: all 0.2s ease;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .switch.active .switch-handle {
            transform: translateX(20px);
            background: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .toggle-switch:hover .switch {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .toggle-switch:hover .switch.active {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-strong);
        }

        /* Corporate Toggle Switch */
        [data-theme="corporate"] .toggle-switch {
            width: 44px;
            height: 24px;
        }

        [data-theme="corporate"] .switch {
            background: var(--corporate-border-gray);
            border-radius: 24px;
            transition: background-color 0.2s ease;
        }

        [data-theme="corporate"] .switch.active {
            background: var(--corporate-accent);
        }

        [data-theme="corporate"] .switch-handle {
            width: 20px;
            height: 20px;
            background: var(--corporate-white);
            border-radius: 50%;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .switch.active .switch-handle {
            transform: translateX(20px) scale(1);
            background: var(--corporate-white);
        }

        [data-theme="corporate"] .toggle-switch:hover .switch {
            background: var(--corporate-text-light);
        }

        [data-theme="corporate"] .toggle-switch:hover .switch.active {
            background: var(--corporate-accent-hover);
        }

        /* Hacker Action Button */
        [data-theme="hacker"] .action-button {
            padding: 0.6rem 1rem;
            border: 1px solid var(--hacker-border);
            background: var(--hacker-panel);
            color: var(--hacker-text);
            border-radius: 0;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .action-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
            transform: translateY(-1px);
        }

        /* Corporate Action Button */
        [data-theme="corporate"] .action-button {
            padding: 0.6rem 1rem;
            border: 1px solid var(--corporate-border-gray);
            background: var(--corporate-white);
            color: var(--corporate-text);
            border-radius: 6px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .action-button:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }

        /* Hacker Modal Styles */
        [data-theme="hacker"] .modal-overlay {
            backdrop-filter: blur(2px);
        }

        [data-theme="hacker"] .coming-soon-overlay::before {
            background: var(--hacker-bg);
            border: 1px solid var(--hacker-border);
            backdrop-filter: blur(2px);
        }

        [data-theme="hacker"] .coming-soon-overlay::after {
            content: 'COMING SOON';
            font-size: 2rem;
            font-weight: 400;
            color: var(--hacker-cyan);
            border: 1px solid var(--hacker-cyan);
            padding: 1.5rem;
            background: var(--hacker-bg);
            box-shadow: var(--glow-cyan);
            text-shadow: var(--glow-cyan);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .modal-content {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .modal-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--hacker-border);
            background: var(--hacker-dark-green);
        }

        [data-theme="hacker"] .modal-header h3 {
            color: var(--hacker-text);
            font-size: 1.2rem;
            font-weight: 400;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .modal-close {
            background: var(--hacker-panel);
            border: 1px solid var(--hacker-border);
            color: var(--hacker-text);
            font-size: 1.5rem;
            padding: 0.25rem 0.5rem;
            width: 30px;
            height: 30px;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
        }

        [data-theme="hacker"] .modal-close:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-error);
            color: var(--hacker-error);
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        [data-theme="hacker"] .modal-body {
            padding: 1.5rem;
            background: var(--hacker-panel);
        }

        [data-theme="hacker"] .form-group {
            margin-bottom: 1.5rem;
        }

        [data-theme="hacker"] .form-group label {
            margin-bottom: 0.5rem;
            color: var(--hacker-text);
            font-weight: 400;
            text-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .form-group input[type="text"] {
            padding: 0.75rem;
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            background: var(--hacker-bg);
            color: var(--hacker-text);
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .form-group input[type="text"]:focus {
            border-color: var(--hacker-cyan);
            box-shadow: var(--glow-cyan);
            outline: none;
        }

        [data-theme="hacker"] .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--hacker-border);
        }

        [data-theme="hacker"] .primary-button,
        [data-theme="hacker"] .secondary-button {
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--hacker-border);
            border-radius: 0;
            font-weight: 400;
            text-shadow: var(--glow-green);
            box-shadow: var(--glow-green);
            font-family: 'Courier New', monospace;
        }

        [data-theme="hacker"] .primary-button {
            background: var(--hacker-dark-green);
            color: var(--hacker-text);
        }

        [data-theme="hacker"] .primary-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-cyan);
            color: var(--hacker-cyan);
            text-shadow: var(--glow-cyan);
            box-shadow: var(--glow-cyan);
        }

        [data-theme="hacker"] .secondary-button {
            background: var(--hacker-panel);
            color: var(--hacker-text);
        }

        [data-theme="hacker"] .secondary-button:hover {
            background: var(--hacker-dark-green);
            border-color: var(--hacker-border);
            color: var(--hacker-text);
        }

        /* Corporate Modal Styles */
        [data-theme="corporate"] .modal-overlay {
            backdrop-filter: blur(4px);
        }

        [data-theme="corporate"] .coming-soon-overlay::before {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--corporate-border-gray);
            backdrop-filter: blur(8px);
        }

        [data-theme="corporate"] .coming-soon-overlay::after {
            content: 'Coming Soon';
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--corporate-text-light);
            border: 1px solid var(--corporate-border-gray);
            padding: 1.5rem 2rem;
            background: var(--corporate-white);
            box-shadow: var(--shadow-md);
            border-radius: 8px;
        }

        [data-theme="corporate"] .modal-content {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow-md);
        }

        [data-theme="corporate"] .modal-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--corporate-border-gray);
            background: var(--corporate-light-gray);
        }

        [data-theme="corporate"] .modal-header h3 {
            color: var(--corporate-text);
            font-size: 1.25rem;
            font-weight: 600;
        }

        [data-theme="corporate"] .modal-close {
            background: var(--corporate-white);
            border: 1px solid var(--corporate-border-gray);
            color: var(--corporate-text);
            font-size: 1.25rem;
            padding: 0.25rem 0.5rem;
            width: 32px;
            height: 32px;
            border-radius: 4px;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .modal-close:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-error);
            color: var(--corporate-error);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .modal-body {
            padding: 1.5rem;
            background: var(--corporate-white);
        }

        [data-theme="corporate"] .form-group {
            margin-bottom: 1.5rem;
        }

        [data-theme="corporate"] .form-group label {
            margin-bottom: 0.5rem;
            color: var(--corporate-text);
            font-weight: 500;
            font-size: 0.875rem;
        }

        [data-theme="corporate"] .form-group input[type="text"] {
            padding: 0.75rem;
            border: 1px solid var(--corporate-border-gray);
            border-radius: 6px;
            background: var(--corporate-white);
            color: var(--corporate-text);
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .form-group input[type="text"]:focus {
            border-color: var(--corporate-accent);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        [data-theme="corporate"] .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--corporate-border-gray);
        }

        [data-theme="corporate"] .primary-button,
        [data-theme="corporate"] .secondary-button {
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--corporate-border-gray);
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.15s ease;
            box-shadow: var(--shadow-subtle);
        }

        [data-theme="corporate"] .primary-button {
            background: var(--corporate-accent);
            color: var(--corporate-white);
            border-color: var(--corporate-accent);
        }

        [data-theme="corporate"] .primary-button:hover {
            background: var(--corporate-accent-hover);
            border-color: var(--corporate-accent-hover);
            box-shadow: var(--shadow-sm);
        }

        [data-theme="corporate"] .secondary-button {
            background: var(--corporate-white);
            color: var(--corporate-text);
        }

        [data-theme="corporate"] .secondary-button:hover {
            background: var(--corporate-light-gray);
            border-color: var(--corporate-accent);
            color: var(--corporate-accent);
            box-shadow: var(--shadow-sm);
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Trial Banner -->
        <div id="trial-banner" class="trial-banner">
            <span id="trial-banner-text"></span>
            <a id="trial-banner-link" class="trial-banner-link" href="#" style="display: none;">Subscribe Now</a>
        </div>

        <header class="header">
            <div class="header-left">
                <div class="header-brand">
                    <img src="assets/favicon-32x32.png" alt="Whispra Logo" class="header-logo"
                        onerror="this.style.display='none'; this.parentElement.innerHTML='<h1>Whispra</h1>';">
                    <h1>Whispra</h1>
                </div>
            </div>
            <div class="header-right">
                <button id="gpu-paddle-button" class="language-toggle" title="Enable GPU Acceleration"
                    style="display: none; padding: 0.35rem 0.75rem; font-size: 0.8rem; font-weight: 600; border: 1px solid #667eea; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); color: #667eea;">
                    <i data-lucide="zap" style="width: 14px; height: 14px;"></i> Run Paddle Faster
                </button>

                <button id="theme-toggle" class="theme-toggle-button" title="Toggle Light/Dark Theme">
                    <i data-lucide="sun" id="theme-toggle-icon"></i>
                </button>
                
                <!-- WebSocket Status Indicator -->
                <div id="websocket-status-indicator" class="websocket-status-indicator" style="display: none;" title="WebSocket Connection Status">
                    <div class="ws-status-dot"></div>
                </div>
                
                <div class="profile-dropdown">
                    <button id="profile-button" class="profile-button" title="Profile">
                        <i data-lucide="user"></i>
                    </button>
                    <div id="profile-dropdown-content" class="profile-dropdown-content">
                        <div class="profile-dropdown-language">
                            <label for="profile-language-toggle">You Speak</label>
                            <select id="profile-language-toggle" class="profile-language-select">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="tr">Turkish</option>
                                <option value="pl">Polish</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="da">Danish</option>
                                <option value="no">Norwegian</option>
                            </select>
                        </div>
                        <div class="divider"></div>
                        <button id="menu-about-button">
                            <span><i data-lucide="info"></i></span>
                            <span>About Whispra</span>
                        </button>
                        <button id="menu-whats-new-button">
                            <span><i data-lucide="sparkles"></i></span>
                            <span>What's New</span>
                        </button>
                        <button id="menu-check-updates-button">
                            <span><i data-lucide="download"></i></span>
                            <span>Check for Updates</span>
                        </button>
                        <button id="logout-button">
                            <span><i data-lucide="log-out"></i></span>
                            <span>Sign Out</span>
                        </button>
                    </div>
                </div>
                <div class="window-controls">
                    <button id="window-minimize" class="window-control-button" title="Minimize">
                        <i data-lucide="minus"></i>
                    </button>
                    <button id="window-maximize" class="window-control-button" title="Maximize">
                        <i data-lucide="square"></i>
                    </button>
                    <button id="window-close" class="window-control-button close" title="Close">
                        <i data-lucide="x"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="content-container">
            <aside id="app-sidebar" class="sidebar">
                <div class="sidebar-header">
                    <button id="sidebar-toggle" class="sidebar-toggle" title="Toggle sidebar">
                        <span class="icon"><i data-lucide="menu"></i></span>
                        <span class="label">Menu</span>
                    </button>
                </div>

                <nav class="nav">
                    <button id="sidebar-whispra-translate-button" class="active" data-tooltip="Whispra Translate"
                        title="Whispra Translate"><span class="icon"><i data-lucide="languages"></i></span><span
                            class="label">Whispra Translate</span></button>
                    <button id="sidebar-whispra-screen-button" data-tooltip="Screen Translate"
                        title="Screen translation with overlay"><span class="icon"><i data-lucide="scan"></i></span><span
                            class="label">Screen Translate</span></button>
                    <button id="sidebar-translate-button" style="display: none;" data-tooltip="Translate"
                        title="Real-time voice translation"><span class="icon"><i
                                data-lucide="languages"></i></span><span class="label">Translate</span></button>
                    <button id="sidebar-bidirectional-button" style="display: none;" data-tooltip="Bidirectional"
                        title="Two-way conversation translation"><span class="icon"><i
                                data-lucide="repeat"></i></span><span class="label">Bidirectional</span></button>
                    <button id="sidebar-screen-translation-button" style="display: none;" data-tooltip="Screen Translation"
                        title="Translate text on your screen"><span class="icon"><i
                                data-lucide="monitor"></i></span><span class="label">Screen Translation</span></button>
                    <button id="sidebar-quick-translate-button" data-tooltip="Quick Translate"
                        title="Quick text translation"><span class="icon"><i data-lucide="zap"></i></span><span
                            class="label">Quick Translate</span></button>
                    <button id="sidebar-sound-board-button" data-tooltip="Sound Board"
                        title="Custom sound effects"><span class="icon"><i data-lucide="music"></i></span><span
                            class="label">Sound Board</span></button>
                </nav>
                <div class="interactive-character-card" id="interactive-character-sidebar-card">
                    <div class="interactive-character-root" id="interactive-character-root"></div>
                </div>
                <div class="sidebar-footer">
                    <div class="help-dropdown">
                        <button class="sidebar-settings-button" id="sidebar-help-button" data-tooltip="Help & Tutorial"
                            title="Show Tutorial">
                            <span class="icon"><i data-lucide="help-circle"></i></span>
                            <span class="label">Help</span>
                        </button>
                        <div id="help-dropdown-content" class="help-dropdown-content">
                            <button id="help-tutorial-button">
                                <span><i data-lucide="play-circle"></i></span>
                                <span>Get Started</span>
                            </button>
                            <div class="divider"></div>
                            <button id="help-vb-audio-button">
                                <span><i data-lucide="headphones"></i></span>
                                <span id="help-audio-setup-text">Audio Setup</span>
                            </button>
                            <button id="help-api-setup-button">
                                <span><i data-lucide="key"></i></span>
                                <span>API Key Setup</span>
                            </button>
                            <div class="divider"></div>
                            <button id="help-report-issue-button">
                                <span><i data-lucide="bug"></i></span>
                                <span>Report an Issue</span>
                            </button>
                            <button id="help-contact-support-button">
                                <span><i data-lucide="message-circle"></i></span>
                                <span>Contact Support</span>
                            </button>
                            <div class="divider"></div>
                            <button id="help-visit-website-button">
                                <span><i data-lucide="globe"></i></span>
                                <span>Visit Website</span>
                            </button>
                        </div>
                    </div>
                    <button class="sidebar-settings-button" id="sidebar-settings-button" data-tooltip="Settings"
                        title="Open Settings">
                        <span class="icon"><i data-lucide="settings"></i></span>
                        <span class="label">Settings</span>
                    </button>
                </div>
            </aside>

            <main class="main-content">
                <div id="translate-page" style="display: none;">
                    <div class="control-panel">
                        <div class="control-row">
                            <div class="control-group">
                                <label for="microphone-select"><i data-lucide="mic"
                                        style="width: 16px; height: 16px;"></i> Microphone</label>
                                <small
                                    style="color: rgba(255, 255, 255, 0.7); margin-bottom: 0.5rem; display: block; font-size: 0.85rem;">Use
                                    your headset microphone, not audio cable input</small>
                                <select id="microphone-select">
                                    <option value="">Select microphone...</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label for="language-select"><i data-lucide="globe"
                                        style="width: 16px; height: 16px;"></i> Target Language</label>
                                <small
                                    style="color: rgba(255, 255, 255, 0.7); margin-bottom: 0.5rem; display: block; font-size: 0.85rem;">This
                                    is the language that will come out your mic</small>
                                <select id="language-select">
                                    <!-- Options will be populated by LanguageSelector -->
                                </select>

                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group" style="grid-column: 1 / -1;">
                                <label for="voice-select"><i data-lucide="mic" style="width: 16px; height: 16px;"></i>
                                    Voice</label>
                                <div style="display: flex; gap: 0.25rem; align-items: stretch;">
                                    <select id="voice-select" style="flex: 1;">
                                        <option value="">Loading voices...</option>
                                    </select>
                                    <button id="refresh-voices-button" type="button" title="Refresh voice list"
                                        style="background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 0.35rem 0.4rem; border-radius: 6px; cursor: pointer; font-size: 0.75rem; display: flex; align-items: center; justify-content: center; min-width: auto; width: auto;"><i
                                            data-lucide="refresh-cw" style="width: 14px; height: 14px;"></i></button>
                                </div>
                                <p
                                    style="margin: 0.5rem 0 0 0; font-size: 0.85rem; color: var(--text-muted); line-height: 1.4;">
                                    To add more voices, visit <a href="#" id="elevenlabs-link"
                                        style="color: #3b82f6; text-decoration: none; cursor: pointer;">ElevenLabs</a>
                                    and add voices to your library. They're automatically synced here.
                                </p>
                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group">
                                <label for="accent-preset"><i data-lucide="globe"
                                        style="width: 16px; height: 16px;"></i> Accent</label>
                                <select id="accent-preset">
                                    <option value="">No Accent</option>
                                    <option value="indian">Indian</option>
                                    <option value="russian">Russian</option>
                                    <option value="british">British</option>
                                    <option value="southern">American Southern</option>
                                    <option value="australian">Australian</option>
                                    <option value="custom">Custom</option>
                                </select>
                                <input id="custom-accent-text" type="text" placeholder="Enter custom accent..."
                                    style="width: 100%; padding: 0.65rem 0.75rem; border: 1px solid var(--border); background: var(--bg); color: var(--text); border-radius: 8px; font-size: 1rem; display: none; margin-top: 0.5rem;">
                            </div>
                            <div class="control-group">
                                <button id="accent-toggle" type="button"
                                    style="background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 0.65rem 0.75rem; border-radius: 8px; cursor: pointer; width: 100%;"><i
                                        data-lucide="wand-2" style="width: 16px; height: 16px;"></i> Accent:
                                    OFF</button>
                            </div>
                        </div>



                        <div class="control-row">
                            <div class="control-group">
                                <button id="output-toggle-button" type="button"><i data-lucide="arrow-left-right"
                                        style="width: 16px; height: 16px;"></i> Output: Virtual Device</button>
                            </div>
                            <div class="control-group">
                                <!-- spacer -->
                            </div>
                        </div>


                        <div class="main-controls">
                            <button id="start-button" class="start-button" type="button">
                                <span class="status-indicator" id="status-indicator"></span>
                                Start Translation
                            </button>
                        </div>

                        <!-- Live Translation Status -->
                        <div id="live-translation-panel" class="live-translation-panel" style="display: none;">
                            <!-- Compact Keybind Display -->
                            <div class="keybind-info compact">
                                <span>Hold <kbd id="translation-keybind-display">Space</kbd></span>
                            </div>
                            <div class="translation-status">
                                <div class="recording-indicator" id="recording-indicator">
                                    <span class="recording-dot"></span>
                                    <span id="recording-text">Ready to record...</span>
                                </div>
                            </div>

                            <div class="translation-display">
                                <div class="translation-box">
                                    <div class="translation-section">
                                        <label><i data-lucide="mic" style="width: 16px; height: 16px;"></i> What you
                                            said:</label>
                                        <div id="original-text" class="text-display">Waiting for input...</div>
                                    </div>
                                    <div class="translation-section">
                                        <label><i data-lucide="globe" style="width: 16px; height: 16px;"></i>
                                            Translation:</label>
                                        <div id="translated-text" class="text-display">Ready to translate...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="debug-console" class="debug-console">
                        <div id="debug-output">Application initialized...</div>
                    </div>
                </div>

                <!-- Bidirectional Tab Content -->
                <div id="bidirectional-panel" class="control-panel" style="display: none;">
                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="repeat" style="width: 16px; height: 16px;"></i> Bidirectional
                                Mode</label>
                            <button id="bidirectional-toggle-button" class="start-button" type="button">
                                <span class="status-indicator" id="bidirectional-status-indicator"></span>
                                Start Bidirectional
                            </button>
                        </div>
                    </div>

                    <div class="control-row">
                        <!-- Output Device UI commented out - logic remains intact
                    <div class="control-group">
                        <label for="bidirectional-output-select"> Output Device</label>
                        <small style="color: rgba(255, 255, 255, 0.7); margin-bottom: 0.5rem; display: block; font-size: 0.85rem;">Using your default output device </small>
                        <select id="bidirectional-output-select" disabled style="opacity: 0.7; cursor: not-allowed; background: var(--panel); border: 1px solid var(--border);">
                            <option value=""> Loading default output device...</option>
                        </select>
                    </div>
                    -->
                        <!-- System Input UI commented out - logic remains intact
                    <div class="control-group">
                        <label for="bidirectional-input-display"> System Input</label>
                        <div id="bidirectional-input-display" class="input disabled-input">
                            Display/System Audio (Default)
                        </div>
                    </div>
                    -->
                        <div class="control-group" style="opacity: 0.5;" title="TTS for bidirectional coming soon">
                            <label for="incoming-voice-select" style="cursor: not-allowed;"><i data-lucide="mic"
                                    style="width: 16px; height: 16px;"></i> Incoming Voice <span style="font-size: 0.7rem; background: rgba(255,165,0,0.3); padding: 1px 4px; border-radius: 3px; margin-left: 4px;">Soon</span></label>
                            <select id="incoming-voice-select" disabled style="cursor: not-allowed;">
                                <option value="">TTS coming soon...</option>
                            </select>
                        </div>
                        <!-- App selection removed - now capturing system-wide audio -->
                        <div class="control-group">
                            <div style="display: flex; gap: 0.5rem; align-items: center;">
                                <button id="bidirectional-captions-toggle" type="button"
                                    style="background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 0.65rem 0.75rem; border-radius: 8px; cursor: pointer; flex: 1;"><i
                                        data-lucide="captions" style="width: 16px; height: 12px;"></i> Captions:
                                    ON</button>
                                <button id="bidirectional-captions-settings" type="button" style="display: none; background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 0.3rem; border-radius: 4px; cursor: pointer; width: 32px; height: 32px; flex-shrink: 0;">
                                    <i data-lucide="settings" style="width: 12px; height: 12px;"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="bidirectional-speed-select">Translation Speed</label>
                            <select id="bidirectional-speed-select">
                                <option value="normal">Normal</option>
                                <option value="fast">Fast (OpenAI Real-Time)</option>
                            </select>
                            <small style="color: rgba(255, 255, 255, 0.6); display: block; margin-top: 0.25rem;">Fast mode uses OpenAI Real-Time API for ultra-low latency</small>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="bidirectional-source-language"><i data-lucide="globe"
                                    style="width: 16px; height: 16px;"></i> Source Language</label>
                            <select id="bidirectional-source-language">
                                <option value="auto">Auto-detect</option>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese (Mandarin)</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="no">Norwegian</option>
                                <option value="da">Danish</option>
                                <option value="fi">Finnish</option>
                                <option value="pl">Polish</option>
                                <option value="cs">Czech</option>
                                <option value="sk">Slovak</option>
                                <option value="hu">Hungarian</option>
                                <option value="ro">Romanian</option>
                                <option value="bg">Bulgarian</option>
                                <option value="hr">Croatian</option>
                                <option value="sr">Serbian</option>
                                <option value="sl">Slovenian</option>
                                <option value="et">Estonian</option>
                                <option value="lv">Latvian</option>
                                <option value="lt">Lithuanian</option>
                                <option value="uk">Ukrainian</option>
                                <option value="be">Belarusian</option>
                                <option value="mk">Macedonian</option>
                                <option value="mt">Maltese</option>
                                <option value="is">Icelandic</option>
                                <option value="ga">Irish</option>
                                <option value="cy">Welsh</option>
                                <option value="eu">Basque</option>
                                <option value="ca">Catalan</option>
                                <option value="gl">Galician</option>
                                <option value="tr">Turkish</option>
                                <option value="he">Hebrew</option>
                                <option value="fa">Persian</option>
                                <option value="ur">Urdu</option>
                                <option value="bn">Bengali</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="ml">Malayalam</option>
                                <option value="kn">Kannada</option>
                                <option value="gu">Gujarati</option>
                                <option value="pa">Punjabi</option>
                                <option value="mr">Marathi</option>
                                <option value="ne">Nepali</option>
                                <option value="si">Sinhala</option>
                                <option value="my">Burmese</option>
                                <option value="km">Khmer</option>
                                <option value="lo">Lao</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="id">Indonesian</option>
                                <option value="ms">Malay</option>
                                <option value="tl">Filipino</option>
                                <option value="sw">Swahili</option>
                                <option value="am">Amharic</option>
                                <option value="yo">Yoruba</option>
                                <option value="zu">Zulu</option>
                                <option value="af">Afrikaans</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="bidirectional-target-language"> Translate To</label>
                            <select id="bidirectional-target-language">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese (Mandarin)</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="no">Norwegian</option>
                                <option value="da">Danish</option>
                                <option value="fi">Finnish</option>
                                <option value="pl">Polish</option>
                                <option value="cs">Czech</option>
                                <option value="sk">Slovak</option>
                                <option value="hu">Hungarian</option>
                                <option value="ro">Romanian</option>
                                <option value="bg">Bulgarian</option>
                                <option value="hr">Croatian</option>
                                <option value="sr">Serbian</option>
                                <option value="sl">Slovenian</option>
                                <option value="et">Estonian</option>
                                <option value="lv">Latvian</option>
                                <option value="lt">Lithuanian</option>
                                <option value="uk">Ukrainian</option>
                                <option value="be">Belarusian</option>
                                <option value="mk">Macedonian</option>
                                <option value="mt">Maltese</option>
                                <option value="is">Icelandic</option>
                                <option value="ga">Irish</option>
                                <option value="cy">Welsh</option>
                                <option value="eu">Basque</option>
                                <option value="ca">Catalan</option>
                                <option value="gl">Galician</option>
                                <option value="tr">Turkish</option>
                                <option value="he">Hebrew</option>
                                <option value="fa">Persian</option>
                                <option value="ur">Urdu</option>
                                <option value="bn">Bengali</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="ml">Malayalam</option>
                                <option value="kn">Kannada</option>
                                <option value="gu">Gujarati</option>
                                <option value="pa">Punjabi</option>
                                <option value="mr">Marathi</option>
                                <option value="ne">Nepali</option>
                                <option value="si">Sinhala</option>
                                <option value="my">Burmese</option>
                                <option value="km">Khmer</option>
                                <option value="lo">Lao</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="id">Indonesian</option>
                                <option value="ms">Malay</option>
                                <option value="tl">Filipino</option>
                                <option value="sw">Swahili</option>
                                <option value="am">Amharic</option>
                                <option value="yo">Yoruba</option>
                                <option value="zu">Zulu</option>
                                <option value="af">Afrikaans</option>
                            </select>
                        </div>
                    </div>

                    <div class="live-translation-panel" style="margin-top: 0;">
                        <!-- Compact Keybind Display -->
                        <div class="keybind-info compact">
                            <span><kbd id="bidirectional-keybind-display">Alt + B</kbd></span>
                        </div>
                        <div class="translation-status">
                            <div class="recording-indicator">
                                <span class="recording-dot" id="bidirectional-recording-dot"></span>
                                <span id="bidirectional-status">Idle</span>
                            </div>
                        </div>
                        <div class="translation-display">
                            <div class="translation-box">
                                <div class="translation-section">
                                    <label><i data-lucide="languages" style="width: 16px; height: 16px;"></i> Detected
                                        (Target Language)</label>
                                    <div id="bidirectional-detected-text" class="text-display empty">Waiting...</div>
                                </div>
                                <div class="translation-section">
                                    <label><i data-lucide="volume-2" style="width: 16px; height: 16px;"></i>
                                        Re-spoken</label>
                                    <div id="bidirectional-respoken-text" class="text-display empty">Ready...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Screen Translation Tab Content -->
                <div id="screen-translation-panel" class="control-panel" style="display: none;">
                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="monitor" style="width: 16px; height: 16px;"></i> Live Screen
                                Translation</label>
                            <button id="screen-translation-trigger-button" class="start-button" type="button">
                                <span class="status-indicator" id="screen-translation-status-indicator"></span>
                                Translate Screen
                            </button>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="screen-translation-target-lang"><i data-lucide="target"
                                    style="width: 16px; height: 16px;"></i> Translate To</label>
                            <select id="screen-translation-target-lang">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="screen-translation-source-lang"><i data-lucide="globe"
                                    style="width: 16px; height: 16px;"></i> Translate Language</label>
                            <select id="screen-translation-source-lang">
                                <option value="auto">Auto-detect</option>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese</option>
                                <option value="ar">Arabic</option>
                                <option value="hi">Hindi</option>
                                <option value="th">Thai</option>
                                <option value="vi">Vietnamese</option>
                                <option value="nl">Dutch</option>
                                <option value="sv">Swedish</option>
                                <option value="no">Norwegian</option>
                                <option value="da">Danish</option>
                                <option value="fi">Finnish</option>
                                <option value="pl">Polish</option>
                                <option value="cs">Czech</option>
                                <option value="hu">Hungarian</option>
                                <option value="ro">Romanian</option>
                                <option value="bg">Bulgarian</option>
                                <option value="hr">Croatian</option>
                                <option value="sk">Slovak</option>
                                <option value="sl">Slovenian</option>
                                <option value="et">Estonian</option>
                                <option value="lv">Latvian</option>
                                <option value="lt">Lithuanian</option>
                                <option value="tr">Turkish</option>
                                <option value="he">Hebrew</option>
                                <option value="fa">Persian</option>
                                <option value="ur">Urdu</option>
                                <option value="bn">Bengali</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="ml">Malayalam</option>
                                <option value="kn">Kannada</option>
                                <option value="gu">Gujarati</option>
                                <option value="pa">Punjabi</option>
                                <option value="mr">Marathi</option>
                                <option value="ne">Nepali</option>
                                <option value="si">Sinhala</option>
                                <option value="my">Myanmar</option>
                                <option value="km">Khmer</option>
                                <option value="lo">Lao</option>
                                <option value="ka">Georgian</option>
                                <option value="am">Amharic</option>
                                <option value="sw">Swahili</option>
                                <option value="zu">Zulu</option>
                                <option value="af">Afrikaans</option>
                                <option value="is">Icelandic</option>
                                <option value="mt">Maltese</option>
                                <option value="cy">Welsh</option>
                                <option value="ga">Irish</option>
                                <option value="eu">Basque</option>
                                <option value="ca">Catalan</option>
                                <option value="gl">Galician</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label><i data-lucide="monitor" style="width: 16px; height: 16px;"></i> Screen</label>
                            <div id="screen-translation-display-selector" class="display-selector">
                                <div class="display-rectangle selected" data-display-id="primary"
                                    title="Primary Display">
                                    <div class="display-number">1</div>
                                    <div class="display-label">Primary</div>
                                </div>
                            </div>
                            <!-- Keep the original select hidden for backwards compatibility -->
                            <select id="screen-translation-display-select" style="display: none;">
                                <option value="primary">Primary Display</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="zap" style="width: 16px; height: 16px;"></i> OCR Speed</label>
                            <div class="toggle-container"
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);">
                                <div id="main-gpu-mode-toggle"
                                    style="position: relative; width: 40px; height: 22px; background: rgba(255, 255, 255, 0.3); border-radius: 11px; cursor: pointer; transition: all 0.3s ease;">
                                    <div class="switch-handle"
                                        style="position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: white; border-radius: 50%; transition: transform 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                                    </div>
                                </div>
                                <span id="main-gpu-mode-label" style="font-size: 14px; font-weight: 500;">Normal
                                    (CPU)</span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label><i data-lucide="clock" style="width: 16px; height: 16px;"></i> Pre-load on Startup</label>
                            <div class="toggle-container"
                                style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);">
                                <div id="paddle-warmup-toggle"
                                    style="position: relative; width: 40px; height: 22px; background: rgba(255, 255, 255, 0.3); border-radius: 11px; cursor: pointer; transition: all 0.3s ease;">
                                    <div class="switch-handle"
                                        style="position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: white; border-radius: 50%; transition: transform 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                                    </div>
                                </div>
                                <span id="paddle-warmup-label" style="font-size: 14px; font-weight: 500;">On</span>
                            </div>
                        </div>
                    </div>

                    <div class="live-translation-panel" style="margin-top: 0;">
                        <!-- Compact Keybind Display -->
                        <div class="keybind-info compact">
                            <span><kbd id="screen-translation-keybind-display">Alt + T</kbd></span>
                        </div>
                        <div class="translation-status">
                            <div class="recording-indicator">
                                <span class="recording-dot" id="screen-translation-processing-dot"></span>
                                <span id="screen-translation-status">Ready</span>
                            </div>
                        </div>
                        <div class="translation-display">
                            <div class="translation-box">
                                <div class="translation-section">
                                    <label><i data-lucide="bar-chart-3" style="width: 16px; height: 16px;"></i>
                                        Processing Stats</label>
                                    <div id="screen-translation-stats" class="text-display empty">
                                        <div>Text blocks found: <span id="total-text-blocks">-</span></div>
                                        <div>Successfully translated: <span id="successful-translations">-</span></div>
                                        <div>Processing time: <span id="processing-time">-</span>ms</div>
                                    </div>
                                </div>
                                <div class="translation-section">
                                    <label><i data-lucide="keyboard" style="width: 16px; height: 16px;"></i> Overlay
                                        Controls</label>
                                    <div id="screen-translation-overlay-controls" class="text-display empty">
                                        <div><kbd>ESC</kbd> Close overlay</div>
                                        <div><kbd>T</kbd> Toggle original/translated</div>
                                        <div><kbd>C</kbd> High contrast mode</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sound Board Tab Content -->
                <div id="sound-board-panel" class="control-panel" style="display: none;">
                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="music" style="width: 16px; height: 16px;"></i> Sound Board</label>
                            <p style="color: var(--muted); margin: 0.5rem 0;">Play custom sounds and audio clips during
                                conversations</p>
                        </div>
                    </div>

                    <!-- Output device selection hidden - hardcoded to VB-Audio Virtual Cable -->
                    <div class="control-row" style="display: none;">
                        <div class="control-group">
                            <label for="sound-board-output"><i data-lucide="volume-2"
                                    style="width: 16px; height: 16px;"></i> Output Device</label>
                            <select id="sound-board-output">
                                <option value="">Select output device...</option>
                                <option value="default">Default System Output</option>
                                <option value="virtual">Virtual Audio Cable</option>
                            </select>
                        </div>
                    </div>
                    <div class="control-row">
                        <div class="control-group">
                            <label for="sound-board-volume"><i data-lucide="volume"
                                    style="width: 16px; height: 16px;"></i> VB Audio Volume</label>
                            <div class="slider-container">
                                <input type="range" id="sound-board-volume" class="slider" min="0" max="100" value="75">
                                <span>75%</span>
                            </div>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="sound-board-headphones-volume"><i data-lucide="headphones"
                                    style="width: 16px; height: 16px;"></i> Headphones Volume</label>
                            <div class="slider-container">
                                <input type="range" id="sound-board-headphones-volume" class="slider" min="0" max="100"
                                    value="75">
                                <span>75%</span>
                            </div>
                        </div>
                    </div>

                    <div class="live-translation-panel" style="margin-top: 1rem;">
                        <div class="translation-status">
                            <div class="keybind-info" style="display: flex; align-items: center; justify-content: center; gap: 1.5rem;">
                                <label style="margin: 0; color: var(--text); font-weight: 600; display: flex; align-items: center; gap: 0.5rem;"><i
                                        data-lucide="gamepad-2" style="width: 16px; height: 16px;"></i> Sound Pad
                                    Grid</label>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div class="toggle-switch">
                                        <div id="soundboard-hotkeys-toggle" class="switch active">
                                            <div class="switch-handle"></div>
                                        </div>
                                    </div>
                                    <label for="soundboard-hotkeys-toggle"
                                        style="margin: 0; font-size: 0.9rem; color: var(--text);">Enable Soundboard
                                        Hotkeys</label>
                                </div>
                            </div>
                        </div>

                        <div id="sound-pad-container"
                            style="max-height: 400px; overflow-y: auto; overflow-x: hidden; margin-top: 1rem; padding-right: 8px;">
                            <div id="sound-pad-grid"
                                style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; width: 100%; box-sizing: border-box;">
                                <!-- Sound pads will be dynamically generated here -->
                            </div>
                        </div>

                        <div class="control-row" style="margin-top: 1.5rem;">
                            <div class="control-group">
                                <button id="add-sound-button" class="start-button">
                                    <i data-lucide="folder-open" style="width: 16px; height: 16px;"></i> Add Sound Files
                                </button>
                            </div>
                            <div class="control-group">
                                <button id="soundboard-overlay-button" class="start-button">
                                    <i data-lucide="globe" style="width: 16px; height: 16px;"></i> Web Overlay
                                </button>
                            </div>
                            <div class="control-group">
                                <button id="stop-all-sounds-button" class="start-button stop-all-button">
                                    <i data-lucide="square" style="width: 16px; height: 16px;"></i> Stop All Sounds
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Translate Tab Content -->
                <div id="quick-translate-panel" class="control-panel" style="display: none;">
                    <div class="control-row" style="justify-content: space-between; align-items: flex-start;">
                        <div class="control-group" style="flex: 1;">
                            <label><i data-lucide="zap" style="width: 16px; height: 16px;"></i> Quick Translate</label>
                            <p style="color: var(--muted); margin: 0.5rem 0;">Instantly translate text using AI
                                translation services</p>
                        </div>
                        <div
                            style="position: relative; display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 8px;">
                            <i data-lucide="keyboard" style="width: 16px; height: 16px; color: #667eea;"></i>
                            <span style="color: var(--muted); font-size: 0.9rem;">Global Hotkey:</span>
                            <kbd
                                style="background: #667eea; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: bold; font-size: 0.9rem; font-family: monospace;">Alt
                                + C</kbd>
                            <button id="quick-translate-hotkey-info-btn"
                                style="display: flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; background: #667eea; color: white; border: none; cursor: pointer; font-size: 0.75rem; font-weight: bold; transition: all 0.2s ease;"
                                title="How to use global hotkey">
                                <i data-lucide="info" style="width: 14px; height: 14px;"></i>
                            </button>
                            <!-- Dropdown info box -->
                            <div id="quick-translate-hotkey-dropdown"
                                style="display: none; position: absolute; top: calc(100% + 8px); right: 0; background: var(--panel); border: 1px solid var(--border); border-radius: 8px; padding: 0.75rem 1rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); z-index: 1000; min-width: 280px; white-space: nowrap;">
                                <p style="color: var(--text); margin: 0; line-height: 1.6; font-size: 0.9rem;">
                                    1. Select text anywhere<br>
                                    2. Press <kbd
                                        style="background: var(--focus); color: #000; padding: 0.15rem 0.4rem; border-radius: 3px; font-weight: bold; font-size: 0.85rem;">Alt
                                        + C</kbd> to translate<br>
                                    3. Press again to close
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Translation Language Selection -->
                    <div class="control-row">
                        <div class="control-group">
                            <label for="quick-translate-target-lang">Translate To</label>
                            <select id="quick-translate-target-lang">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                                <option value="it">Italian</option>
                                <option value="pt">Portuguese</option>
                                <option value="ru">Russian</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="zh">Chinese</option>
                                <option value="ar">Arabic</option>
                            </select>
                        </div>
                    </div>

                    <!-- Auto-Translate Toggle -->
                    <div class="control-row">
                        <div class="control-group" style="display: flex; align-items: center; gap: 0.75rem;">
                            <label for="quick-translate-auto-toggle" style="margin: 0;">Auto-Translate</label>
                            <div class="toggle-switch" id="quick-translate-auto-toggle" style="margin: 0;">
                                <div class="switch active" id="quick-translate-auto-switch">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                            <span id="quick-translate-auto-info" style="color: var(--muted); font-size: 0.875rem;">Translates as you type</span>
                        </div>
                    </div>

                    <!-- Text Input and Output Areas - Side by Side -->
                    <div class="control-row" style="gap: 1rem;">
                        <div class="control-group" style="flex: 1;">
                            <label for="quick-translate-input">Text to Translate</label>
                            <textarea id="quick-translate-input" placeholder="Enter text to translate..."
                                style="width: 100%; height: 200px; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); resize: none; font-family: inherit; box-sizing: border-box;"></textarea>
                        </div>
                        <div class="control-group" style="flex: 1;">
                            <label for="quick-translate-output">Translation Result</label>
                            <textarea id="quick-translate-output" readonly placeholder="Translation will appear here..."
                                style="width: 100%; height: 200px; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; background: var(--panel); color: var(--text); resize: none; font-family: inherit; box-sizing: border-box;"></textarea>
                        </div>
                    </div>

                    <!-- Translation Controls -->
                    <div class="control-row">
                        <div class="control-group">
                            <button id="quick-translate-btn" class="primary-button" style="padding: 0.75rem 1.5rem;">
                                <span id="quick-translate-btn-text">Translate</span>
                                <div id="quick-translate-spinner" class="spinner"
                                    style="display: none; margin-left: 0.5rem;"></div>
                            </button>
                        </div>
                        <div class="control-group">
                            <button id="quick-translate-clear-btn" class="secondary-button"
                                style="padding: 0.75rem 1rem;">Clear</button>
                        </div>
                        <div class="control-group">
                            <button id="quick-translate-copy-btn" class="secondary-button"
                                style="padding: 0.75rem 1rem;" disabled>Copy Result</button>
                        </div>
                    </div>

                    <!-- Translation Info -->
                    <div class="control-row" style="display: none;">
                        <div class="control-group">
                            <label>Translation Info</label>
                            <div id="quick-translate-info"
                                style="padding: 0.65rem 0.75rem; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; color: var(--muted); min-height: 1.5rem;">
                                Ready to translate
                            </div>
                        </div>
                    </div>

                    <!-- Cache and Statistics -->
                    <div class="control-row" style="display: none;">
                        <div class="control-group">
                            <label>Cache</label>
                            <div style="display: flex; gap: 0.5rem; align-items: center;">
                                <span id="quick-translate-cache-size" style="color: var(--muted);">0 cached
                                    translations</span>
                                <button id="quick-translate-clear-cache-btn" class="secondary-button"
                                    style="padding: 0.5rem 0.75rem; font-size: 0.875rem;">Clear Cache</button>
                            </div>
                        </div>
                    </div>

                    <!-- Global Hotkey Section -->
                    <div class="control-row" style="display: none;">
                        <div class="control-group">
                            <label for="quick-translate-hotkey-toggle">Enable Global Hotkey</label>
                            <div class="toggle-switch" id="quick-translate-hotkey-toggle">
                                <div class="switch" id="quick-translate-hotkey-switch">
                                    <div class="switch-handle"></div>
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Hotkey</label>
                            <div
                                style="padding: 0.65rem 0.75rem; background: var(--panel); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-family: monospace;">
                                Alt + C
                            </div>
                        </div>
                    </div>



                    <!-- Hotkey Instructions -->
                    <div id="quick-translate-hotkey-instructions" class="control-row" style="display: none;">
                        <div class="control-group">
                            <label>How to Use Global Hotkey</label>
                            <div
                                style="background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: 1rem;">
                                <p style="color: var(--muted); margin: 0; line-height: 1.5;">
                                    1. Enable the global hotkey above<br>
                                    2. Select any text anywhere on your screen<br>
                                    3. Press <kbd
                                        style="background: var(--focus); color: #000; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: bold;">Alt
                                        + C</kbd> to translate<br>
                                    4. Translation appears in a draggable overlay and is copied to clipboard<br>
                                    5. Press <kbd
                                        style="background: var(--focus); color: #000; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: bold;">Alt
                                        + C</kbd> again or <kbd
                                        style="background: var(--focus); color: #000; padding: 0.25rem 0.5rem; border-radius: 4px; font-weight: bold;">Esc</kbd>
                                    to close overlay<br>
                                    6. Uses the same provider and language settings as above
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Filter Tab Content -->
                <div id="voice-filter-panel" class="control-panel coming-soon-overlay" style="display: none;">
                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="mic" style="width: 16px; height: 16px;"></i> Voice Filter</label>
                            <p style="color: var(--muted); margin: 0.5rem 0;">Apply real-time voice effects and filters
                                to your microphone input</p>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="voice-filter-input"><i data-lucide="mic" style="width: 16px; height: 16px;"></i>
                                Input Device</label>
                            <select id="voice-filter-input">
                                <option value="">Select input device...</option>
                                <option value="default">Default Microphone</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="voice-filter-output"><i data-lucide="volume-2"
                                    style="width: 16px; height: 16px;"></i> Output Device</label>
                            <select id="voice-filter-output">
                                <option value="">Select output device...</option>
                                <option value="default">Default System Output</option>
                                <option value="virtual">Virtual Audio Cable</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label><i data-lucide="radio" style="width: 16px; height: 16px;"></i> Voice Effects</label>
                            <button id="voice-filter-toggle" class="start-button" type="button">
                                <span class="status-indicator" id="voice-filter-status-indicator"></span>
                                Start Voice Filter
                            </button>
                        </div>
                        <div class="control-group">
                            <label for="voice-filter-preset"><i data-lucide="wand-2"
                                    style="width: 16px; height: 16px;"></i> Filter Preset</label>
                            <select id="voice-filter-preset">
                                <option value="">Select preset...</option>
                                <option value="robot">Robot Voice</option>
                                <option value="echo">Echo Effect</option>
                                <option value="reverb">Reverb Hall</option>
                                <option value="pitch-up">Pitch Up</option>
                                <option value="pitch-down">Pitch Down</option>
                                <option value="distortion">Distortion</option>
                            </select>
                        </div>
                    </div>

                    <div class="live-translation-panel" style="margin-top: 1rem;">
                        <div class="translation-status">
                            <div class="keybind-info">
                                <label style="margin: 0; color: var(--text); font-weight: 600;"><i data-lucide="sliders"
                                        style="width: 16px; height: 16px;"></i> Manual Controls</label>
                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group">
                                <label for="pitch-slider"><i data-lucide="music" style="width: 16px; height: 16px;"></i>
                                    Pitch Shift</label>
                                <div class="slider-container">
                                    <input type="range" id="pitch-slider" class="slider" min="-12" max="12" value="0"
                                        step="0.1">
                                    <span>0</span>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="speed-slider"><i data-lucide="play" style="width: 16px; height: 16px;"></i>
                                    Speed</label>
                                <div class="slider-container">
                                    <input type="range" id="speed-slider" class="slider" min="0.5" max="2.0" value="1.0"
                                        step="0.1">
                                    <span>1.0x</span>
                                </div>
                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group">
                                <label for="reverb-slider"><i data-lucide="radio"
                                        style="width: 16px; height: 16px;"></i> Reverb</label>
                                <div class="slider-container">
                                    <input type="range" id="reverb-slider" class="slider" min="0" max="100" value="0">
                                    <span>0%</span>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="distortion-slider"><i data-lucide="zap"
                                        style="width: 16px; height: 16px;"></i> Distortion</label>
                                <div class="slider-container">
                                    <input type="range" id="distortion-slider" class="slider" min="0" max="100"
                                        value="0">
                                    <span>0%</span>
                                </div>
                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group">
                                <label for="volume-slider"><i data-lucide="volume"
                                        style="width: 16px; height: 16px;"></i> Output Volume</label>
                                <div class="slider-container">
                                    <input type="range" id="volume-slider" class="slider" min="0" max="150" value="100">
                                    <span>100%</span>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="noise-gate-slider"><i data-lucide="volume-x"
                                        style="width: 16px; height: 16px;"></i> Noise Gate</label>
                                <div class="slider-container">
                                    <input type="range" id="noise-gate-slider" class="slider" min="0" max="100"
                                        value="10">
                                    <span>10%</span>
                                </div>
                            </div>
                        </div>

                        <div class="translation-display" style="margin-top: 1.5rem;">
                            <div class="translation-box">
                                <div class="translation-section">
                                    <label><i data-lucide="bar-chart-3" style="width: 16px; height: 16px;"></i> Audio
                                        Levels</label>
                                    <div style="display: flex; gap: 1rem; align-items: center; margin-top: 0.5rem;">
                                        <div style="flex: 1;">
                                            <small style="color: var(--muted);">Input</small>
                                            <div
                                                style="background: #333; height: 8px; border-radius: 4px; overflow: hidden;">
                                                <div id="input-level"
                                                    style="background: #4CAF50; height: 100%; width: 0%; transition: width 0.1s;">
                                                </div>
                                            </div>
                                        </div>
                                        <div style="flex: 1;">
                                            <small style="color: var(--muted);">Output</small>
                                            <div
                                                style="background: #333; height: 8px; border-radius: 4px; overflow: hidden;">
                                                <div id="output-level"
                                                    style="background: #2196F3; height: 100%; width: 0%; transition: width 0.1s;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="translation-section">
                                    <label><i data-lucide="keyboard" style="width: 16px; height: 16px;"></i> Quick
                                        Actions</label>
                                    <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                                        <button class="change-keybind-btn" style="font-size: 0.8rem;"><i
                                                data-lucide="volume-x" style="width: 14px; height: 14px;"></i> Mute
                                            (M)</button>
                                        <button class="change-keybind-btn" style="font-size: 0.8rem;"><i
                                                data-lucide="rotate-cw" style="width: 14px; height: 14px;"></i> Reset
                                            (R)</button>
                                        <button class="change-keybind-btn" style="font-size: 0.8rem;"><i
                                                data-lucide="save" style="width: 14px; height: 14px;"></i> Save
                                            Preset</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Whispra Translate Tab Content -->
                <div id="whispra-translate-panel" class="control-panel" style="padding: 0;">
                    <div style="display: flex; height: 100%; gap: 1rem; padding: 1rem;">
                        <!-- Left Glasscard - Translation -->
                        <div class="glasscard" style="flex: 1; display: flex; flex-direction: column; height: 100%; padding: 1.5rem; gap: 1rem;">
                            <!-- Column Title -->
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                                <h3 style="margin: 0; font-size: 1.1rem; font-weight: 600; color: var(--text);">Translation</h3>
                                <span id="whispra-translate-status" style="font-size: 0.85rem; color: var(--muted); font-weight: 500;">Idle</span>
                            </div>
                            <!-- Source Language Section (Top Half) -->
                            <div style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                    <select id="whispra-left-source-lang" style="flex: 1; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                        <!-- Languages will be populated by JavaScript -->
                                    </select>
                                    <span style="color: var(--muted); font-size: 0.9rem;"></span>
                                    <select id="whispra-left-target-lang" style="flex: 1; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                        <!-- Languages will be populated by JavaScript -->
                                    </select>
                                </div>
                                <!-- Translation Settings Icons -->
                                <div style="display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; margin-bottom: 1rem; padding: 0.5rem; background: rgba(255, 255, 255, 0.02); border-radius: 6px; position: relative;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <!-- Microphone -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="microphone" title="Microphone" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="mic" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="microphone" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Microphone</label>
                                                <select id="whispra-translate-microphone" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                                    <option value="">Select microphone...</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Voice -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="voice" title="Voice" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="volume-2" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="voice" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Voice</label>
                                                <select id="whispra-translate-voice" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                                    <option value="">Loading voices...</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Accent -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="accent" title="Accent" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="wand-2" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="accent" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Accent</label>
                                                <select id="whispra-translate-accent" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                                    <option value="">No Accent</option>
                                                    <option value="indian">Indian</option>
                                                    <option value="russian">Russian</option>
                                                    <option value="british">British</option>
                                                    <option value="southern">American Southern</option>
                                                    <option value="australian">Australian</option>
                                                    <option value="custom">Custom</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Output Toggle -->
                                        <div style="position: relative;">
                                            <button id="whispra-translate-output-toggle" class="whispra-settings-icon" data-setting="output" title="Output Device" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="arrow-left-right" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="output" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Output</label>
                                                <button id="whispra-translate-output-toggle-btn" type="button" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem; cursor: pointer; text-align: left;">
                                                    Output: Virtual Device
                                                </button>
                                            </div>
                                        </div>
                                        <!-- Volume Control -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="volume" title="TTS Volume" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="volume-x" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="volume" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 220px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.75rem; font-size: 0.85rem; color: var(--muted);">TTS Volume</label>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <i data-lucide="volume-1" style="width: 16px; height: 16px; color: var(--muted); flex-shrink: 0;"></i>
                                                    <input type="range" id="whispra-translate-volume-slider" min="0" max="100" value="20" step="1" style="flex: 1; height: 6px; background: rgba(255, 255, 255, 0.1); border-radius: 3px; outline: none; cursor: pointer; -webkit-appearance: none; appearance: none;">
                                                    <i data-lucide="volume-2" style="width: 16px; height: 16px; color: var(--muted); flex-shrink: 0;"></i>
                                                </div>
                                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem;">
                                                    <span id="whispra-translate-volume-value" style="font-size: 0.85rem; color: var(--text); font-weight: 500;">20%</span>
                                                    <button id="whispra-translate-volume-test" type="button" style="padding: 0.25rem 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 4px; color: var(--text); font-size: 0.75rem; cursor: pointer;">Test</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Translation Keybind (Right Aligned) -->
                                    <div style="display: flex; align-items: center; justify-content: flex-end; height: 36px; margin-top: 0.5rem;">
                                        <div id="whispra-translate-ptt-keybind-container" class="keybind-info compact" style="position: static !important; margin: 0 !important; padding: 0.4rem 0.6rem !important; font-size: 0.75rem !important; line-height: 1 !important; display: flex !important; align-items: center !important; height: auto !important; cursor: pointer !important;">
                                            <span style="display: flex; align-items: center; line-height: 1;">Hold <kbd id="whispra-translate-ptt-keybind" style="margin: 0 !important; padding: 0.15rem 0.3rem !important; vertical-align: middle !important; line-height: 1 !important; display: inline-flex !important; align-items: center !important;">Space</kbd></span>
                                        </div>
                                    </div>
                                </div>
                                <div style="flex: 1; display: flex; flex-direction: column; background: rgba(255, 255, 255, 0); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 1rem; min-height: 0;">
                                    <div id="whispra-left-source-text" class="text-display empty" style="min-height: 60px;">Waiting for input...</div>
                                </div>
                            </div>

                            <!-- Divider -->
                            <div style="height: 1px; background: rgba(255, 255, 255, 0.1); margin: 0.5rem 0;"></div>

                            <!-- Target Language Section (Bottom Half) -->
                            <div style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                <div style="flex: 1; display: flex; flex-direction: column; background: rgba(255, 255, 255, 0); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 1rem; min-height: 0;">
                                    <div id="whispra-left-target-text" class="text-display empty" style="min-height: 60px;">Ready to translate...</div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Glasscard - Bidirectional -->
                        <div class="glasscard" style="flex: 1; display: flex; flex-direction: column; height: 100%; padding: 1.5rem; gap: 1rem;">
                            <!-- Column Title -->
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                                <h3 style="margin: 0; font-size: 1.1rem; font-weight: 600; color: var(--text);">Bidirectional</h3>
                                <span id="whispra-bidirectional-status" style="font-size: 0.85rem; color: var(--muted); font-weight: 500;">Idle</span>
                            </div>
                            <!-- Source Language Section (Top Half) -->
                            <div style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                    <select id="whispra-right-source-lang" style="flex: 1; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                        <!-- Languages will be populated by JavaScript -->
                                    </select>
                                    <span style="color: var(--muted); font-size: 0.9rem;"></span>
                                    <select id="whispra-right-target-lang" style="flex: 1; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                        <!-- Languages will be populated by JavaScript -->
                                    </select>
                                </div>
                                <!-- Bidirectional Settings Icons -->
                                <div style="display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; margin-bottom: 1rem; padding: 0.5rem; background: rgba(255, 255, 255, 0.02); border-radius: 6px; position: relative;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <!-- Incoming Voice -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="incoming-voice" title="TTS for bidirectional coming soon" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: not-allowed; display: flex; align-items: center; justify-content: center; opacity: 0.5;" disabled>
                                                <i data-lucide="volume-2" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="incoming-voice" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Incoming Voice <span style="font-size: 0.7rem; background: rgba(255,165,0,0.3); padding: 1px 4px; border-radius: 3px;">Soon</span></label>
                                                <select id="whispra-bidirectional-incoming-voice" disabled style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem; opacity: 0.5; cursor: not-allowed;">
                                                    <option value="">TTS coming soon...</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Translation Speed -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="speed" title="Translation Speed" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="zap" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="speed" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Translation Speed</label>
                                                <select id="whispra-bidirectional-speed" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                                    <option value="normal">Normal</option>
                                                    <option value="fast">Fast (OpenAI Real-Time)</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Captions -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="captions" title="Captions" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="captions" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="captions" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Captions</label>
                                                <div style="display: flex; gap: 0.5rem; align-items: center;">
                                                    <button id="whispra-bidirectional-captions-toggle" type="button" style="flex: 1; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: var(--text); font-size: 0.9rem; cursor: pointer;">
                                                        Captions: ON
                                                    </button>
                                                    <button id="whispra-bidirectional-captions-settings" type="button" style="display: none; background: rgba(255, 255, 255, 0.05); color: var(--text); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0.5rem; border-radius: 6px; cursor: pointer; width: 36px; height: 36px; flex-shrink: 0; align-items: center; justify-content: center;">
                                                        <i data-lucide="settings" style="width: 16px; height: 16px;"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Volume Control -->
                                        <div style="position: relative;">
                                            <button class="whispra-settings-icon" data-setting="bidirectional-volume" title="TTS for bidirectional coming soon" style="width: 36px; height: 36px; border-radius: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: var(--text); cursor: not-allowed; display: flex; align-items: center; justify-content: center; opacity: 0.5;" disabled>
                                                <i data-lucide="volume-x" style="width: 18px; height: 18px;"></i>
                                            </button>
                                            <div class="whispra-settings-dropdown" data-dropdown="bidirectional-volume" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: rgba(0, 0, 0, 0.95); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 0.75rem; min-width: 220px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                                <label style="display: block; margin-bottom: 0.75rem; font-size: 0.85rem; color: var(--muted);">TTS Volume <span style="font-size: 0.7rem; background: rgba(255,165,0,0.3); padding: 1px 4px; border-radius: 3px;">Soon</span></label>
                                                <div style="display: flex; align-items: center; gap: 0.75rem; opacity: 0.5;">
                                                    <i data-lucide="volume-1" style="width: 16px; height: 16px; color: var(--muted); flex-shrink: 0;"></i>
                                                    <input type="range" id="whispra-bidirectional-volume-slider" min="0" max="100" value="20" step="1" disabled style="flex: 1; height: 6px; background: rgba(255, 255, 255, 0.1); border-radius: 3px; outline: none; cursor: not-allowed; -webkit-appearance: none; appearance: none;">
                                                    <i data-lucide="volume-2" style="width: 16px; height: 16px; color: var(--muted); flex-shrink: 0;"></i>
                                                </div>
                                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem; opacity: 0.5;">
                                                    <span id="whispra-bidirectional-volume-value" style="font-size: 0.85rem; color: var(--text); font-weight: 500;">20%</span>
                                                    <button id="whispra-bidirectional-volume-test" type="button" disabled style="padding: 0.25rem 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 4px; color: var(--text); font-size: 0.75rem; cursor: not-allowed;">Test</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Bidirectional Keybind (Right Aligned) -->
                                    <div style="display: flex; align-items: center; justify-content: flex-end; height: 36px; margin-top: 0.5rem;">
                                        <div id="whispra-translate-bidi-keybind-container" class="keybind-info compact" style="position: static !important; margin: 0 !important; padding: 0.4rem 0.6rem !important; font-size: 0.75rem !important; line-height: 1 !important; display: flex !important; align-items: center !important; height: auto !important; cursor: pointer !important;">
                                            <span style="display: flex; align-items: center; line-height: 1;"><kbd id="whispra-translate-bidi-keybind" style="margin: 0 !important; padding: 0.15rem 0.3rem !important; vertical-align: middle !important; line-height: 1 !important; display: inline-flex !important; align-items: center !important;">Alt + B</kbd></span>
                                        </div>
                                    </div>
                                </div>
                                <div style="flex: 1; display: flex; flex-direction: column; background: rgba(255, 255, 255, 0); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 1rem; min-height: 0;">
                                    <div id="whispra-right-source-text" class="text-display empty" style="min-height: 60px;">Waiting for input...</div>
                                </div>
                            </div>

                            <!-- Divider -->
                            <div style="height: 1px; background: rgba(255, 255, 255, 0.1); margin: 0.5rem 0;"></div>

                            <!-- Target Language Section (Bottom Half) -->
                            <div style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                <div style="flex: 1; display: flex; flex-direction: column; background: rgba(255, 255, 255, 0); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 1rem; min-height: 0;">
                                    <div id="whispra-right-target-text" class="text-display empty" style="min-height: 60px;">Ready to translate...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Screen Translate Tab Content -->
                <div id="whispra-screen-panel" class="control-panel" style="display: none; padding: 0;">
                    <div style="display: flex; height: 100%; gap: 1rem; padding: 1rem;">
                        <!-- Main Glasscard - Screen Translation -->
                        <div class="glasscard" style="flex: 1; display: flex; flex-direction: column; height: 100%; padding: 1.5rem; gap: 1rem;">
                            <!-- Title and Status -->
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                                <h3 style="margin: 0; font-size: 1.1rem; font-weight: 600; color: var(--text);">Screen Translation</h3>
                                <div class="recording-indicator" style="gap: 0.4rem;">
                                    <span class="recording-dot" id="whispra-screen-processing-dot"></span>
                                    <span id="whispra-screen-status" style="font-size: 0.85rem; color: var(--muted); font-weight: 500;">Idle</span>
                                </div>
                            </div>

                            <!-- Language Selection -->
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                <select id="whispra-screen-source-lang" style="flex: 1; padding: 0.5rem; background: var(--control-bg, rgba(255, 255, 255, 0.05)); border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                    <option value="auto">Auto-detect</option>
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                    <option value="de">German</option>
                                    <option value="it">Italian</option>
                                    <option value="pt">Portuguese</option>
                                    <option value="ru">Russian</option>
                                    <option value="ja">Japanese</option>
                                    <option value="ko">Korean</option>
                                    <option value="zh">Chinese</option>
                                    <option value="ar">Arabic</option>
                                    <option value="hi">Hindi</option>
                                    <option value="th">Thai</option>
                                    <option value="vi">Vietnamese</option>
                                    <option value="nl">Dutch</option>
                                    <option value="sv">Swedish</option>
                                    <option value="no">Norwegian</option>
                                    <option value="da">Danish</option>
                                    <option value="fi">Finnish</option>
                                    <option value="pl">Polish</option>
                                    <option value="cs">Czech</option>
                                    <option value="hu">Hungarian</option>
                                    <option value="ro">Romanian</option>
                                    <option value="bg">Bulgarian</option>
                                    <option value="hr">Croatian</option>
                                    <option value="sk">Slovak</option>
                                    <option value="sl">Slovenian</option>
                                    <option value="et">Estonian</option>
                                    <option value="lv">Latvian</option>
                                    <option value="lt">Lithuanian</option>
                                    <option value="tr">Turkish</option>
                                    <option value="he">Hebrew</option>
                                    <option value="fa">Persian</option>
                                    <option value="ur">Urdu</option>
                                    <option value="bn">Bengali</option>
                                    <option value="ta">Tamil</option>
                                    <option value="te">Telugu</option>
                                    <option value="ml">Malayalam</option>
                                    <option value="kn">Kannada</option>
                                    <option value="gu">Gujarati</option>
                                    <option value="pa">Punjabi</option>
                                    <option value="mr">Marathi</option>
                                    <option value="ne">Nepali</option>
                                    <option value="si">Sinhala</option>
                                    <option value="my">Myanmar</option>
                                    <option value="km">Khmer</option>
                                    <option value="lo">Lao</option>
                                    <option value="ka">Georgian</option>
                                    <option value="am">Amharic</option>
                                    <option value="sw">Swahili</option>
                                    <option value="zu">Zulu</option>
                                    <option value="af">Afrikaans</option>
                                    <option value="is">Icelandic</option>
                                    <option value="mt">Maltese</option>
                                    <option value="cy">Welsh</option>
                                    <option value="ga">Irish</option>
                                    <option value="eu">Basque</option>
                                    <option value="ca">Catalan</option>
                                    <option value="gl">Galician</option>
                                </select>
                                <span style="color: var(--muted); font-size: 0.9rem;"></span>
                                <select id="whispra-screen-target-lang" style="flex: 1; padding: 0.5rem; background: var(--control-bg, rgba(255, 255, 255, 0.05)); border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); border-radius: 6px; color: var(--text); font-size: 0.9rem;">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                    <option value="de">German</option>
                                    <option value="it">Italian</option>
                                    <option value="pt">Portuguese</option>
                                    <option value="ru">Russian</option>
                                    <option value="ja">Japanese</option>
                                    <option value="ko">Korean</option>
                                    <option value="zh">Chinese</option>
                                    <option value="ar">Arabic</option>
                                    <option value="hi">Hindi</option>
                                </select>
                            </div>

                            <!-- Settings Icons Row -->
                            <div style="display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; margin-bottom: 1rem; padding: 0.5rem; background: var(--settings-bg, rgba(255, 255, 255, 0.02)); border-radius: 6px; position: relative;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <!-- Display Selector -->
                                    <div style="position: relative;">
                                        <button class="whispra-settings-icon" data-setting="display" title="Display" style="width: 36px; height: 36px; border-radius: 6px; background: var(--control-bg, rgba(255, 255, 255, 0.05)); border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="monitor" style="width: 18px; height: 18px;"></i>
                                        </button>
                                        <div class="whispra-settings-dropdown" data-dropdown="display" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: var(--dropdown-bg, rgba(0, 0, 0, 0.95)); border: 1px solid var(--dropdown-border, rgba(255, 255, 255, 0.2)); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Display</label>
                                            <div id="whispra-screen-display-selector" class="display-selector">
                                                <div class="display-rectangle selected" data-display-id="primary" title="Primary Display">
                                                    <div class="display-number">1</div>
                                                    <div class="display-label">Primary</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- GPU/CPU Mode Toggle -->
                                    <div style="position: relative;">
                                        <button class="whispra-settings-icon" data-setting="gpu-mode" title="Performance Mode" style="width: 36px; height: 36px; border-radius: 6px; background: var(--control-bg, rgba(255, 255, 255, 0.05)); border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="zap" style="width: 18px; height: 18px;"></i>
                                        </button>
                                        <div class="whispra-settings-dropdown" data-dropdown="gpu-mode" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: var(--dropdown-bg, rgba(0, 0, 0, 0.95)); border: 1px solid var(--dropdown-border, rgba(255, 255, 255, 0.2)); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">OCR Speed</label>
                                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);">
                                                <div id="whispra-screen-gpu-mode-toggle" style="position: relative; width: 40px; height: 22px; background: rgba(255, 255, 255, 0.3); border-radius: 11px; cursor: pointer; transition: all 0.3s ease;">
                                                    <div class="switch-handle" style="position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: white; border-radius: 50%; transition: transform 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
                                                </div>
                                                <span id="whispra-screen-gpu-mode-label" style="font-size: 14px; font-weight: 500;">Normal (CPU)</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Pre-load on Startup -->
                                    <div style="position: relative;">
                                        <button class="whispra-settings-icon" data-setting="preload" title="Pre-load on Startup" style="width: 36px; height: 36px; border-radius: 6px; background: var(--control-bg, rgba(255, 255, 255, 0.05)); border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); color: var(--text); cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="clock" style="width: 18px; height: 18px;"></i>
                                        </button>
                                        <div class="whispra-settings-dropdown" data-dropdown="preload" style="display: none; position: absolute; top: calc(100% + 8px); left: 0; background: var(--dropdown-bg, rgba(0, 0, 0, 0.95)); border: 1px solid var(--dropdown-border, rgba(255, 255, 255, 0.2)); border-radius: 8px; padding: 0.75rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
                                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--muted);">Pre-load on Startup</label>
                                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);">
                                                <div id="whispra-screen-paddle-warmup-toggle" style="position: relative; width: 40px; height: 22px; background: rgba(255, 255, 255, 0.3); border-radius: 11px; cursor: pointer; transition: all 0.3s ease;">
                                                    <div class="switch-handle" style="position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: white; border-radius: 50%; transition: transform 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
                                                </div>
                                                <span id="whispra-screen-paddle-warmup-label" style="font-size: 14px; font-weight: 500;">On</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Keybind Displays (Right Aligned) -->
                                <div style="display: flex; align-items: center; gap: 0.75rem; height: 36px;">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span style="font-size: 0.75rem; color: var(--muted);">Full Screen:</span>
                                        <div id="whispra-screen-keybind-container" class="keybind-info compact" style="position: static !important; margin: 0 !important; padding: 0.4rem 0.6rem !important; font-size: 0.75rem !important; line-height: 1 !important; display: flex !important; align-items: center !important; height: auto !important; cursor: pointer !important;">
                                            <kbd id="whispra-screen-keybind" style="margin: 0 !important; padding: 0.15rem 0.3rem !important; vertical-align: middle !important; line-height: 1 !important; display: inline-flex !important; align-items: center !important;">Alt + T</kbd>
                                        </div>
                                    </div>
                                    <div style="width: 1px; height: 20px; background: var(--control-border, rgba(255, 255, 255, 0.1));"></div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span style="font-size: 0.75rem; color: var(--muted);">Box Select:</span>
                                        <div id="whispra-screen-box-keybind-container" class="keybind-info compact" style="position: static !important; margin: 0 !important; padding: 0.4rem 0.6rem !important; font-size: 0.75rem !important; line-height: 1 !important; display: flex !important; align-items: center !important; height: auto !important; cursor: pointer !important;">
                                            <kbd id="whispra-screen-box-keybind" style="margin: 0 !important; padding: 0.15rem 0.3rem !important; vertical-align: middle !important; line-height: 1 !important; display: inline-flex !important; align-items: center !important;">Alt + Y</kbd>
                                        </div>
                                    </div>
                                    <div style="width: 1px; height: 20px; background: var(--control-border, rgba(255, 255, 255, 0.1));"></div>
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span style="font-size: 0.75rem; color: var(--muted);">Watch Box:</span>
                                        <div id="whispra-screen-watch-box-keybind-container" class="keybind-info compact" style="position: static !important; margin: 0 !important; padding: 0.4rem 0.6rem !important; font-size: 0.75rem !important; line-height: 1 !important; display: flex !important; align-items: center !important; height: auto !important; cursor: pointer !important;">
                                            <kbd id="whispra-screen-watch-box-keybind" style="margin: 0 !important; padding: 0.15rem 0.3rem !important; vertical-align: middle !important; line-height: 1 !important; display: inline-flex !important; align-items: center !important;">Alt + W</kbd>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Stats Display -->
                            <div style="flex: 1; display: flex; flex-direction: column; background: transparent; border: 1px solid var(--control-border, rgba(255, 255, 255, 0.1)); border-radius: 8px; padding: 1rem; min-height: 0; gap: 1rem;">
                                <!-- Processing Stats -->
                                <div style="flex: 1; display: flex; flex-direction: column;">
                                    <label style="font-size: 0.85rem; color: var(--muted); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                        <i data-lucide="bar-chart-3" style="width: 16px; height: 16px;"></i>
                                        Processing Stats
                                    </label>
                                    <div id="whispra-screen-stats" class="text-display empty" style="flex: 1; font-size: 0.9rem; line-height: 1.8;">
                                        <div>Text blocks found: <span id="whispra-screen-text-blocks" style="color: var(--text); font-weight: 500;">-</span></div>
                                        <div>Successfully translated: <span id="whispra-screen-translated" style="color: var(--text); font-weight: 500;">-</span></div>
                                        <div>Processing time: <span id="whispra-screen-time" style="color: var(--text); font-weight: 500;">-</span>ms</div>
                                    </div>
                                </div>

                                <!-- Overlay Controls -->
                                <div style="flex: 1; display: flex; flex-direction: column;">
                                    <label style="font-size: 0.85rem; color: var(--muted); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                        <i data-lucide="keyboard" style="width: 16px; height: 16px;"></i>
                                        Overlay Controls
                                    </label>
                                    <div id="whispra-screen-controls" class="text-display empty" style="flex: 1; font-size: 0.85rem; line-height: 1.8;">
                                        <div><kbd style="padding: 0.15rem 0.4rem; background: var(--control-bg, rgba(255, 255, 255, 0.1)); border-radius: 4px; font-size: 0.8rem;">ESC</kbd> Close overlay</div>
                                        <div><kbd style="padding: 0.15rem 0.4rem; background: var(--control-bg, rgba(255, 255, 255, 0.1)); border-radius: 4px; font-size: 0.8rem;">T</kbd> Toggle original/translated</div>
                                        <div><kbd style="padding: 0.15rem 0.4rem; background: var(--control-bg, rgba(255, 255, 255, 0.1)); border-radius: 4px; font-size: 0.8rem;">C</kbd> High contrast mode</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>

        <footer class="footer">
            <div class="footer-status">
                <span id="connection-status">Ready</span> 
                <span id="processing-status">Idle</span>
            </div>
            <div class="footer-actions">
                <button id="affiliate-button" class="debug-toggle">Become an Affiliate</button>
                <button id="feedback-button" class="debug-toggle">Report Bug / Suggest Feature</button>
            </div>
        </footer>
    </div>

    <!-- Background Mode Overlay -->
    <div id="background-mode-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h3>Run in Background?</h3>
            </div>
            <div class="modal-body">
                <p style="color: var(--text); margin: 0 0 1rem 0; line-height: 1.5;">
                    Do you want to allow Whispra to run in the background? This allows your taskbar to be free but also allows me to help you translate.
                </p>
                <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 6px;">
                    <i data-lucide="info" style="width: 16px; height: 16px; color: #667eea;"></i>
                    <span style="color: var(--muted); font-size: 0.9rem;">You can access Whispra from the system tray</span>
                </div>
            </div>
            <div class="modal-footer">
                <button id="background-mode-cancel" class="secondary-button">Exit App</button>
                <button id="background-mode-allow" class="primary-button">Run in Background</button>
            </div>
        </div>
    </div>

    <!-- Sound Configuration Overlay -->
    <div id="sound-config-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Configure Sound</h3>
                <button id="sound-config-close" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="sound-name-input">Sound Name</label>
                    <input type="text" id="sound-name-input" placeholder="Enter sound name..." maxlength="50">
                </div>
                <div class="form-group">
                    <label for="sound-hotkey-input">Hotkey (optional)</label>
                    <div class="hotkey-input-container">
                        <input type="text" id="sound-hotkey-input" placeholder="Press a key or key combination..."
                            readonly>
                        <button id="clear-hotkey" class="secondary-button">Clear</button>
                    </div>
                    <small class="help-text">Supports: Letters, Numbers, Numpad, F1-F12, Ctrl+Key, Alt+Key,
                        Shift+Key</small>
                </div>
            </div>
            <div class="modal-footer">
                <button id="sound-config-cancel" class="secondary-button">Cancel</button>
                <button id="sound-config-save" class="primary-button">Add Sound</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons when the library is loaded
        window.addEventListener('load', function () {
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
                console.log('Lucide icons initialized');
            } else {
                console.error('Lucide library not loaded');
            }
        });

        // Update Alt key references to Option on macOS
        function updateModifierKeyDisplay() {
            // Wait for electronAPI to be available
            if (typeof window === 'undefined' || !window.electronAPI) {
                // Retry after a short delay
                setTimeout(updateModifierKeyDisplay, 100);
                return;
            }

            const isMacOS = window.electronAPI.platform === 'darwin';
            const modifierKey = isMacOS ? 'Option' : 'Alt';

            // Update all hardcoded "Alt" references in the HTML
            const altElements = document.querySelectorAll('kbd');
            altElements.forEach(el => {
                if (el.textContent && el.textContent.includes('Alt')) {
                    el.textContent = el.textContent.replace(/Alt/g, modifierKey);
                }
            });

            // Also update text content that might contain Alt references
            const walker = document.createTreeWalker(
                document.body,
                NodeFilter.SHOW_TEXT,
                null
            );

            let node;
            while (node = walker.nextNode()) {
                if (node.textContent && node.textContent.includes('Alt +')) {
                    node.textContent = node.textContent.replace(/Alt/g, modifierKey);
                }
            }
        }

        // Run on DOMContentLoaded to ensure elements exist
        document.addEventListener('DOMContentLoaded', updateModifierKeyDisplay);
    </script>
    <script type="module">
        // Initialize ThemeManager early
        import { ThemeManager } from './ui/themes/ThemeManager.js';
        window.addEventListener('DOMContentLoaded', () => {
            ThemeManager.getInstance();
        });
    </script>
    <script type="module" src="renderer.js"></script>
</body>

</html>